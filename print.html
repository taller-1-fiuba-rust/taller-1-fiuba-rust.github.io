<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Taller de Programación I</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="inicio.html"><strong aria-hidden="true">1.</strong> Inicio</a></li><li class="chapter-item expanded "><a href="recursos.html"><strong aria-hidden="true">2.</strong> Bibliografía y Recursos</a></li><li class="chapter-item expanded "><a href="clases/index.html"><strong aria-hidden="true">3.</strong> Clases</a></li><li class="chapter-item expanded "><a href="proyecto/23C1/ejercicio_individual.html"><strong aria-hidden="true">4.</strong> Ejercicio Individual 1er C 2023</a></li><li class="chapter-item expanded "><a href="guias/index.html"><strong aria-hidden="true">5.</strong> Guías</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="guias/guia1.html"><strong aria-hidden="true">5.1.</strong> Guía 1</a></li><li class="chapter-item expanded "><a href="guias/guia2.html"><strong aria-hidden="true">5.2.</strong> Guía 2</a></li><li class="chapter-item expanded "><a href="guias/guia3.html"><strong aria-hidden="true">5.3.</strong> Guía 3</a></li><li class="chapter-item expanded "><a href="guias/guia4.html"><strong aria-hidden="true">5.4.</strong> Guía 4</a></li></ol></li><li class="chapter-item expanded "><a href="proyecto/anteriores/index.html"><strong aria-hidden="true">6.</strong> Proyectos anteriores</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="proyecto/anteriores/21C1/proyecto.html"><strong aria-hidden="true">6.1.</strong> 1C 2021: Redis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="proyecto/anteriores/21C1/agregado.html"><strong aria-hidden="true">6.1.1.</strong> Agregado al Proyecto</a></li></ol></li><li class="chapter-item expanded "><a href="proyecto/anteriores/21C2/proyecto.html"><strong aria-hidden="true">6.2.</strong> 2C 2021: MQTT</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="proyecto/anteriores/21C2/finales_2022_feb_mar.html"><strong aria-hidden="true">6.2.1.</strong> Finales Febrero/Marzo 2022</a></li></ol></li><li class="chapter-item expanded "><a href="proyecto/22C1/proyecto.html"><strong aria-hidden="true">6.3.</strong> 1C 2022: BitTorrent</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="proyecto/22C1/proyecto_final_1C2022.html"><strong aria-hidden="true">6.3.1.</strong> Agregado al Proyecto - Finales Julio/Agosto 2022</a></li><li class="chapter-item expanded "><a href="proyecto/22C1/criterios_aprobacion.html"><strong aria-hidden="true">6.3.2.</strong> Criterios de aprobación</a></li><li class="chapter-item expanded "><a href="proyecto/22C1/entrega_intermedia.html"><strong aria-hidden="true">6.3.3.</strong> Entrega Intermedia</a></li></ol></li><li class="chapter-item expanded "><a href="proyecto/22C2/proyecto.html"><strong aria-hidden="true">6.4.</strong> 2C 2022: IRC</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="proyecto/22C2/examen_final.html"><strong aria-hidden="true">6.4.1.</strong> Examen Final 2C 2022</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="rust_arg.html"><strong aria-hidden="true">7.</strong> Grupo Rust Argentina</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Taller de Programación I</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="inicio"><a class="header" href="#inicio">Inicio</a></h1>
<p>Bienvenidos y bienvenidas al sitio de <strong>Taller de Programación I - Cátedra Deymonnaz</strong> de <a href="http://www.fi.uba.ar/">FIUBA</a>.</p>
<h2 id="docentes-de-la-cátedra"><a class="header" href="#docentes-de-la-cátedra">Docentes de la cátedra</a></h2>
<ul>
<li><strong>Profesor:</strong> Ing. Pablo A. Deymonnaz</li>
<li><strong>Ayudantes:</strong>
<ul>
<li>Ing. Juan Bono</li>
<li>Ing. Martín Miletta</li>
<li>Agustín Firmapaz</li>
<li>Mauro Nicolás Di Pietro</li>
<li>Mauro Toscano</li>
<li>Nicolás Longo</li>
</ul>
</li>
<li><strong>Colaboradores:</strong>
<ul>
<li>Alfonso Jose Campodonico Gonzalez</li>
<li>Mauro Parafati</li>
<li>Maximiliano Ian Levi Fernandez</li>
<li>Melina Lazzaro</li>
</ul>
</li>
<li><strong>Asesor académico:</strong> Dr. Mariano Méndez</li>
<li><strong>Asesor de la industria:</strong> Federico Carrone</li>
</ul>
<h2 id="horarios-de-clases"><a class="header" href="#horarios-de-clases">Horarios de clases</a></h2>
<p>Las clases serán los días lunes de 18 a 22 hs.</p>
<h2 id="desarrollo-del-proyecto"><a class="header" href="#desarrollo-del-proyecto">Desarrollo del Proyecto</a></h2>
<p>En la materia vamos a trabajar con el lenguaje de programación <a href="https://www.rust-lang.org/">Rust</a>.</p>
<p>Desarrollaremos un Proyecto a partir de la sexta semana de clases, en grupos de 4 (cuatro) personas.</p>
<p>Cada grupo tendrá el seguimiento del avance del trabajo semanalmente con un docente de la cátedra.</p>
<h2 id="materias-correlativas"><a class="header" href="#materias-correlativas">Materias Correlativas</a></h2>
<p>Las materias correlativas vigentes necesarias para poder cursar la materia dependen de la Carrera y Plan que esté cursando el estudiante:</p>
<ul>
<li>
<p><strong>Ingeniería en Informática:</strong></p>
<ul>
<li>Estructura del Computador (66.70)</li>
<li>Algoritmos y Programación II (75.41)</li>
<li><del>Análisis Numérico (75.12)</del> - a partir de la <a href="http://www.fi.uba.ar/sites/default/files/DETALLE%20ACTUALIZACI%C3%93N%20PLAN%20ING.%20EN%20INFORM%C3%81TICA.pdf">Actualización del Plan de Ing. Informática 2021</a>, no se requiere esta correlatividad.</li>
</ul>
</li>
<li>
<p><strong>Licenciatura en Análisis de Sistemas (1986):</strong></p>
<ul>
<li>Organización del Computador (75.03)</li>
<li>Algoritmos y Programación II (75.41)</li>
</ul>
</li>
<li>
<p><strong>Licenciatura en Análisis de Sistemas (2014):</strong></p>
<ul>
<li>Organización del Computador (95.57)</li>
<li>Algoritmos y Programación III (95.02)</li>
</ul>
</li>
<li>
<p><strong>Ingeniería en Electrónica (2009):</strong></p>
<ul>
<li>Algoritmos y Programación II (95.12)</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bibliografía"><a class="header" href="#bibliografía">Bibliografía</a></h1>
<p>La bibliografía recomendad de la materia para el aprnedizaje del lenguaje Rust es:</p>
<ul>
<li><a href="https://doc.rust-lang.org/book/">The Rust Programming Language</a>, Steve Klabnik y Carol Nichols. Es el libro oficial del lenguaje, y es la referencia principal para aprender el lenguaje.</li>
<li><a href="https://www.oreilly.com/library/view/programming-rust/9781491927274/">Programming Rust</a>, Jim Blandy, Jason Orendorff.O'Reilly Media, Inc. Es un libro muy bueno que explica los conceptos del lenguaje de forma exhaustiva con profundidad.</li>
<li><a href="https://livebook.manning.com/book/rust-in-action/welcome/v-16/">Rust in Action</a>, Tim McNamara</li>
</ul>
<h2 id="material-para-aprender-rust"><a class="header" href="#material-para-aprender-rust">Material para aprender Rust</a></h2>
<ul>
<li><a href="https://learning-rust.github.io">Learning Rust</a></li>
<li><a href="https://fasterthanli.me/articles/a-half-hour-to-learn-rust">A half-hour to learn Rust</a></li>
<li><a href="https://fasterthanli.me/articles/i-am-a-java-csharp-c-or-cplusplus-dev-time-to-do-some-rust">I am a Java, C#, C or C++ developer, time to do some Rust</a></li>
</ul>
<h3 id="type-system"><a class="header" href="#type-system">Type System</a></h3>
<ul>
<li><a href="https://www.jakobmeier.ch/blogging/Untapped-Rust.html">Untapped potential in Rust's type system</a></li>
</ul>
<h3 id="ownership"><a class="header" href="#ownership">Ownership</a></h3>
<ul>
<li><strong><a href="https://deavid.wordpress.com/2021/06/06/rust-what-made-it-click-for-me-ownership-memory-internals/">Rust – What made it “click” for me (Ownership &amp; memory internals)</a></strong></li>
</ul>
<h2 id="otros-recursos-de-interés"><a class="header" href="#otros-recursos-de-interés">Otros recursos de interés</a></h2>
<p>Otros recursos para consultar:</p>
<ul>
<li><a href="https://goyox86.github.io/elpr/">El Lenguaje de Programación Rust</a>. Una guía de referencia en español.</li>
<li><a href="https://cheats.rs/">Rust Language Cheat Sheet</a>. Un resumen de los elementos del lenguaje, para tener a mano.</li>
</ul>
<h2 id="artículos-de-blogs"><a class="header" href="#artículos-de-blogs">Artículos de blogs</a></h2>
<ul>
<li><a href="https://www.possiblerust.com/guide/how-to-read-rust-functions-part-1">How to Read Rust Functions, Part 1</a></li>
<li><a href="https://owengage.com/writing/2021-08-30-how-to-think-of-unwrap/">How to think of unwrap</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clases"><a class="header" href="#clases">Clases</a></h1>
<ul>
<li><strong>Clase 1</strong> - Introducción a Rust
<ul>
<li><a href="clases/./1-introduccion.pdf">Slides</a></li>
<li><a href="https://github.com/taller-1-fiuba-rust/clases_practicas/tree/main/clases/clase1">Ejemplos de código</a></li>
</ul>
</li>
<li><strong>Clase 2</strong> - Ownership, Lifetimes, Traits, Generics
<ul>
<li><a href="clases/./2-ownership.pdf">Slides</a></li>
<li><a href="https://github.com/taller-1-fiuba-rust/clases_practicas/tree/main/clases/clase2">Ejemplos de código</a></li>
</ul>
</li>
<li><strong>Clase 3</strong> - Concurrencia / Procesos y Threads / Channels y Locks en Rust
<ul>
<li><a href="clases/./3-concurrencia-bis.pdf">Slides</a></li>
<li><a href="https://github.com/taller-1-fiuba-rust/clases_practicas/tree/main/clases/clase3">Ejemplos de código</a></li>
</ul>
</li>
<li><strong>Clase 4</strong> - Introducción a Redes / Sockets en Rust
<ul>
<li><a href="clases/./4-sockets.pdf">Slides</a></li>
<li><a href="https://github.com/taller-1-fiuba-rust/clases_practicas/tree/main/clases/clase4">Ejemplos de código</a></li>
</ul>
</li>
<li><strong>Clase 5</strong> - Modelo Cliente / Servidor y Protocolo HTTP
<ul>
<li><a href="clases/./cliente_servidor.pdf">Slides</a></li>
<li><a href="clases/./clase-05.tar.bz2">Ejemplos de código</a></li>
</ul>
</li>
<li><strong>Clase 6</strong> - Testing
<ul>
<li><a href="clases/./6-testing.pdf">Slides</a></li>
<li><a href="https://github.com/taller-1-fiuba-rust/clases_practicas/tree/main/clases/clase6">Ejemplos de código</a></li>
</ul>
</li>
<li><strong>Clases adicionales</strong>
<ul>
<li><a href="clases/./git.pdf">Flujos de desarrollo en GIT</a></li>
<li><a href="clases/./clase-gtk.zip">GTK</a></li>
<li><a href="clases/./Demos_for_dummies.pdf">Demos</a> - Cómo preparar demos y presentaciones del proyecto.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="captura-inminente"><a class="header" href="#captura-inminente">Captura inminente</a></h1>
<p><strong>Fecha límite de entrega:</strong> lunes 3 de Abril de 2023 a las 18 hs</p>
<h2 id="introducción"><a class="header" href="#introducción">Introducción</a></h2>
<p>El <a href="https://es.wikipedia.org/wiki/Ajedrez">ajedrez</a> es un juego de tablero entre dos contrincantes en el que cada uno dispone al inicio de 16 piezas móviles que se colocan sobre un tablero dividido en 64 casillas alternadas en colores blanco y negro, que constituyen las 64 posibles posiciones entre las que se mueven las piezas durante el desarrollo del juego.</p>
<p><img src="https://i.imgur.com/fVVOAaC.png" alt="Tablero damas" /></p>
<p>Inicialmente, cada jugador cuenta con 16 piezas:</p>
<ul>
<li>Un <strong><a href="https://es.wikipedia.org/wiki/Rey_(ajedrez)">Rey</a></strong>: Puede moverse en cualquier dirección (vertical, horizontal y diagonal), avanzando siempre una casilla (exceptuando el caso del enroque).</li>
<li>Una <strong><a href="https://es.wikipedia.org/wiki/Reina_(ajedrez)">Dama</a></strong>: Tambien puede moverse en cualquier dirección (vertical, horizontal y diagonal), avanzando tantas casillas como se desee.</li>
<li>Dos <strong><a href="https://es.wikipedia.org/wiki/Alfil_(ajedrez)">Alfiles</a></strong>: Solo pueden moverse en direcciones diagonales, avanzando tantas casillas como se desee.</li>
<li>Dos <strong><a href="https://es.wikipedia.org/wiki/Caballo_(ajedrez)">Caballos</a></strong>: Se mueve avanzando dos casillas en vertical y una horizontal, o viceversa (simplificando, se mueve en patron de L), siendo capaz de saltar por encima de otras piezas.</li>
<li>Dos <strong><a href="https://es.wikipedia.org/wiki/Torre_(ajedrez)">Torres</a></strong>: Solo pueden moverse en direcciones verticales y horizontales, avanzando tantas casillas como se desee.</li>
<li>Ocho <strong><a href="https://es.wikipedia.org/wiki/Pe%C3%B3n_(ajedrez)">peones</a></strong>: Puede avanzar una o dos casillas hacia adelante en su primer movimiento, y avanzar solo una en los siguientes. A diferencia de las demas piezas, el peon no puede retroceder, y solo puede capturar piezas que se encuentren a una casilla de distancia en direccion diagonal (hacia adelante). Para este ejercicio, ignoraremos la <a href="https://es.wikipedia.org/wiki/Captura_al_paso">captura de peon al paso</a>.</li>
</ul>
<h2 id="consigna"><a class="header" href="#consigna">Consigna</a></h2>
<p>Dada la posicion de dos piezas (una negra y una blanca), <strong>y solo dos piezas</strong>, determinar si:</p>
<ul>
<li>La pieza <strong>negra</strong> puede capturar a la blanca en su siguiente movimiento.</li>
<li>La pieza blanca puede capturar a la <strong>negra</strong> en su siguiente movimiento.</li>
<li>Ambas piezas pueden capturar a la otra en su siguiente movimiento.</li>
<li>Ninguna de las piezas puede capturar a la otra.</li>
</ul>
<blockquote>
<p><strong>Aclaración</strong>: es indistinto qué color se movera en el siguiente turno.</p>
</blockquote>
<p>Para identificar cada pieza se utilizaran letras: Rey [R], Dama [D], Alfil [A], Caballo [C], Torre [T], Peon [P]. Las blancas se identificaran con letras minúsculas, mientras que las negras con letras MAYÚSCULAS. Cualquier casilla vacia sera representada con guion bajo [_]. Para cada fila del tablero, cada casillero se encuentra separado por un espacio [ ].</p>
<h3 id="ejemplo-1"><a class="header" href="#ejemplo-1">Ejemplo 1</a></h3>
<pre><code class="language-text">_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ D _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ t _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
</code></pre>
<p>En este caso, la dama negra esta en posicion para capturar a la torre blanca en su siguiente turno. Por ende, <strong>las negras capturan</strong>.</p>
<h3 id="ejemplo-2"><a class="header" href="#ejemplo-2">Ejemplo 2</a></h3>
<pre><code class="language-text">_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ P _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ a _ _ _ _ _
_ _ _ _ _ _ _ _
</code></pre>
<p>En este caso, el alfil blanco esta en posicion para capturar al peon negro en su siguiente turno. Por ende, <strong>las blancas capturan</strong>.</p>
<h3 id="ejemplo-3"><a class="header" href="#ejemplo-3">Ejemplo 3</a></h3>
<pre><code class="language-text">_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ R _ _ _ _ _
_ _ t _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
</code></pre>
<p>En este caso, la torre blanca esta en posicion de para capturar al rey negro (curiosamente, acabando en un jaque mate), pero el rey negro tambien podria capturar a la torre blanca. Por ende, <strong>es un empate</strong>.</p>
<h3 id="ejemplo-4"><a class="header" href="#ejemplo-4">Ejemplo 4</a></h3>
<pre><code class="language-text">_ _ _ _ _ _ _ _
_ _ _ _ _ P _ _
_ _ _ _ _ _ _ _
_ _ d _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
_ _ _ _ _ _ _ _
</code></pre>
<p>En este caso, ni la dama blanca ni el peon negro estan en posicion de capturar a la otra pieza. Por ende, <strong>todos pierden</strong>.</p>
<h2 id="formato-de-input"><a class="header" href="#formato-de-input">Formato de input</a></h2>
<p>El input es un archivo en el filesystem con el formato de entrada del tablero. En la invocación del programa se debe proveer la ruta a ese archivo. <strong>Solo deberá ingresarse este argumento</strong>.</p>
<pre><code class="language-shell">cargo run -- table.txt
</code></pre>
<h2 id="formato-de-output"><a class="header" href="#formato-de-output">Formato de output</a></h2>
<p>El output sera un caracter impreso por terminal:</p>
<ul>
<li><strong>B</strong>: indica que solo la pieza blanca pueden capturar.</li>
<li><strong>N</strong>: indica que solo la pieza negra pueden capturar.</li>
<li><strong>E</strong>: indica que ambas piezas pueden capturar.</li>
<li><strong>P</strong>: indica que ninguna pieza puede capturar.</li>
</ul>
<p>En caso de que un error ocurriese, se deberá imprimir un mensaje con el siguiente formato: <strong>ERROR: [descripcion_del_error]</strong>.</p>
<h2 id="algunas-consideraciones"><a class="header" href="#algunas-consideraciones">Algunas consideraciones</a></h2>
<ul>
<li>La orientación del tablero dispondrá a las piezas blancas en la parte de abajo, y a las piezas negras en la parte de arriba (precisamente, igual que en la imagen presentada al principio de la consigna).
<ul>
<li>Esto quiere decir que los peones blancos se moverán y capturarán hacia &quot;arriba&quot;, mientras que los peones negros hacia &quot;abajo&quot;.</li>
</ul>
</li>
<li>Escribir el programa sin clonar (<em>.clone()</em>) el input.</li>
<li><strong>Solamente</strong> debe imprimirse por terminal el caracter de output, o el error lanzado junto a su descripción.</li>
</ul>
<h2 id="requerimientos-no-funcionales"><a class="header" href="#requerimientos-no-funcionales">Requerimientos no funcionales</a></h2>
<p><strong>Nota importante:</strong> El proyecto deberá realizarse de manera individual. Si se detecta una copia del trabajo entregado con respecto a la de otro/a estudiante, se podrá decidir hasta la exclusión del curso por considerarse conducta deshonestas y anti-académica.</p>
<p>Los siguientes son los requerimientos no funcionales para la resolución del proyecto:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust y debe compilarse con la versión 1.68 del compilador, usando las herramientas de la biblioteca estándar.</li>
<li>Se deben implementar tests unitarios y de integración de las funcionalidades que se consideren más importantes.</li>
<li>No se permite utilizar crates externos.</li>
<li>El código fuente debe compilarse en la versión estable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar warnings del compilador, ni del linter clippy.</li>
<li>Las funciones y los tipos de datos (struct) deben estar documentados siguiendo el estándar de cargo doc.</li>
<li>El código debe formatearse utilizando cargo fmt.</li>
<li>Las funciones no deben tener una extensión mayor a 30 líneas. Si se requiriera una extensión mayor, se deberá particionarla en varias funciones.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="guías"><a class="header" href="#guías">Guías</a></h1>
<ul>
<li>Ejercicios para practicar la sintaxis del lenguaje: <a href="https://github.com/rust-lang/rustlings">rustlings</a></li>
<li><a href="guias/./guia1.html">Guía 1</a>: Introducción a Rust (<a href="guias/./guia1_introduccion.pdf">pdf</a>)</li>
<li><a href="guias/./guia2.html">Guía 2</a>: Ownership (<a href="guias/./guia2_ownership.pdf">pdf</a>)</li>
<li><a href="guias/./guia3.html">Guía 3</a>: Concurrencia (<a href="guias/./guia3_concurrencia.pdf">pdf</a>)</li>
<li><a href="guias/./guia4.html">Guía 4</a>: Sockets (<a href="guias/./guia4_sockets.pdf">pdf</a>)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="guía-de-ejercicios-1-introducción-a-rust"><a class="header" href="#guía-de-ejercicios-1-introducción-a-rust">Guía de Ejercicios 1: Introducción a Rust</a></h1>
<p><a href="guias/./guia1_introduccion.pdf"><strong>Descargar en formato PDF</strong></a></p>
<h2 id="ejercicio-1---ahorcado"><a class="header" href="#ejercicio-1---ahorcado">Ejercicio 1 - Ahorcado</a></h2>
<p>El objetivo del ejercicio es implementar un programa de consola para jugar al <strong>ahorcado</strong>.</p>
<pre><code>Bienvenido al ahorcado de FIUBA!

La palabra hasta el momento es: _ _ _ _ _ _
Adivinaste las siguientes letras:
Te quedan 5 intentos.
Ingresa una letra: r

La palabra hasta el momento es: _ _ _ _ _ r
Adivinaste las siguientes letras: r
Te quedan 5 intentos.
Ingresa una letra: c
</code></pre>
<p>Si se ingresa una letra que no forma parte de la palabra, se pierde un intento.</p>
<p>La lista de palabras se debe leer de un archivo de texto, donde cada línea del archivo contendrá una palabra.
De esa lista, se deberá elegir una palabra (puede ser una selección secuencial de palabras).</p>
<p>El programa termina cuando se adivina correctamente la palabra pensada, o cuando se acabaron los intentos.</p>
<p>Tips:</p>
<ul>
<li>Recuerda que las variables son inmutables por default. Para cambiar el estado de una variable, se la debe declarar como <strong>mut</strong>.</li>
<li>Se puede comparar Strings usando: <strong>==</strong></li>
<li>Usa <strong>println!(...)</strong> para imprimir elementos en la salida estándar. Para imprimir una variable, puedes escribir algo como esto:</li>
</ul>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>println!(&quot;Contenido: {}&quot;, s);
<span class="boring">}
</span></code></pre></pre>
<ul>
<li>Para leer de la entrada estándar, se puede usar algo como esto:</li>
</ul>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>io::stdin()
	.read_line(&amp;mut v)
	.expect(&quot;Error leyendo la linea.&quot;);
<span class="boring">}
</span></code></pre></pre>
<h3 id="parte-b"><a class="header" href="#parte-b">Parte B</a></h3>
<p>Mostrar las letras que se ingresaron y que no forman parte de la palabra (las que hacen que se pierda un intento).</p>
<p>Verificar si se ingresó nuevamente una letra que ya estaba.</p>
<h3 id="parte-c"><a class="header" href="#parte-c">Parte C</a></h3>
<p>Sobre la implementación de las funciones, modelizar una estructura de datos que represente al tipo de error de retorno. Por ejemplo: se agotaron los intentos. Basarse en el <strong>enum Result</strong>.</p>
<h2 id="ejercicio-2---contar-palabras"><a class="header" href="#ejercicio-2---contar-palabras">Ejercicio 2 - Contar palabras</a></h2>
<p>Escribir un programa para contar las frecuencias de palabras únicas leídas de un archivo de entrada.
Luego imprimirlas con sus frecuencias, ordenadas primero por las más frecuentes. Por ejemplo, dado este archivo de entrada:</p>
<pre><code>La casa tiene una ventana
La ventana fue defenestrada
</code></pre>
<p>El programa debe imprimir:</p>
<pre><code>ventana -&gt; 2
La -&gt; 2
casa -&gt; 1
tiene -&gt; 1
una -&gt; 1
fue -&gt; 1
defenestrada -&gt; 1
</code></pre>
<p>Una solución básica consiste en leer el archivo línea por línea, convertirlo a minúsculas, dividir cada línea en palabras y contar las frecuencias en un <strong>HashMap</strong>. Una vez hecho esto, convertir el <strong>HashMap</strong> en una lista de pares de palabras y cantidad y ordenarlas por cantidad (el más grande primero) y por último imprimirlos.</p>
<p>Se debe seguir las siguientes recomendaciones:</p>
<ul>
<li>Para separar en palabras, se debe considerar los espacios en blanco, ignorando los signos de puntuación.</li>
<li>Si la frecuencia de dos palabras es la misma, no importa el orden en el que aparecen las dos palabras en la salida impresa.</li>
<li>No leer el archivo completo en memoria, se puede ir procesando línea por línea, o en conjuntos de líneas. Sí se puede mantener en memoria el hashmap completo.</li>
<li>Usar solamente las herramientas de la biblioteca std del lenguaje.</li>
</ul>
<p>Para leer un archivo línea por línea, se puede utilizar el método
<a href="https://doc.rust-lang.org/std/io/trait.BufRead.html#method.read_line">read_line</a>.</p>
<h2 id="ejercicio-3---buscador-full-text"><a class="header" href="#ejercicio-3---buscador-full-text">Ejercicio 3 - Buscador Full-text</a></h2>
<p>La búsqueda de texto está en todos lados. Desde encontrar un mensaje en redes sociales, productos en portales de comercio electrónico, o cualquier otra cosa en la web a través de Google.</p>
<p>En este ejercicio, construiremos un motor de búsqueda sencillo que pueda buscar en millones de documentos y clasificarlos según su relevancia.</p>
<p>El primer paso consiste en la <strong>preparación de los datos</strong>. Necesitamos construir el conjunto de datos sobre el que realizaremos las búsquedas, denominado <strong>corpus</strong>. Este conjunto será un grupo de archivos de texto plano (txt) que puede generarse a partir de artículos de Internet. Cada archivo será un <strong>documento</strong> que estará identificado por un <strong>id</strong>.</p>
<p>Luego se debe realizar la <strong>indexación:</strong> Se debe implementar una estructura conocida como de <strong>índice invertido</strong>. Que será una estructura de datos de tipo <strong>HashMap</strong> que contendrá como clave cada una de las palabras y como valor, el o los ids de documentos en los que aparece la palabra. Para este paso, se debe realizar el proceso de <strong>tokenización</strong>, es decir, obtener cada una de los tokens que conforman al documento, considerando las separaciones de los mismos por espacios en blanco o saltos de línea, y quitando los signos de puntuación. De estos tokens, se debe ignorar las palabras más usadas del lenguaje español (conocidas como <strong>stop words</strong>), por ejemplo, los artículos: la, el, las, los.
Se debe considerar la frecuencia de cada token, es decir, la cantidad de veces que el mismo aparece en el documento. Ese valor debe ser almacenado para el ordenamiento de los resultados.</p>
<p>El último paso es implementar la <strong>búsqueda</strong>. Para ello, se debe solicitar al usuario una frase a buscar y aplicar la tokenización de la misma y la eliminación de las stop words. Se debe buscar los documentos que contengan los términos de búsqueda ingresados.</p>
<p>Luego se debe determinar la relevancia de cada documento resultado de la búsqueda. Para esto, se debe determinar el <strong>puntaje</strong> del documento. Esto se puede computar a partir de sumar las frecuencias de cada uno de los términos encontrados.</p>
<p>Para mejorar el cálculo de puntaje del documento, calcularemos la frecuencia inversa de documentos para un término (denominado <strong>tf-idf</strong>) dividiendo la cantidad de documentos (N) en el índice por la cantidad de documentos que contienen el término, y tomaremos el logaritmo.</p>
<div style="text-align:center"><img src="guias/formulatf.png" /></div>
<p>donde:</p>
<ul>
<li><strong>|D|</strong> es la cantidad de documentos del corpus.</li>
<li><strong>|d ∈ D : t ∈ d|</strong> es el número de documentos donde aparece el término <strong>t</strong>. Si el término no está en la colección se producirá una división-por-cero. Por lo tanto, se suele ajustar esta fórmula a <strong>1 + |d ∈ D : t ∈ d|</strong></li>
</ul>
<p>Luego, multiplicaremos la frecuencia del término con la frecuencia inversa del documento durante nuestra clasificación, por lo que las coincidencias en términos que son raros en el corpus contribuirán más a la puntuación de relevancia.</p>
<h2 id="requerimientos-no-funcionales-1"><a class="header" href="#requerimientos-no-funcionales-1">Requerimientos no funcionales</a></h2>
<p>Los siguientes son los requerimientos no funcionales para la resolución de los ejercicios:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust, usando las herramientas de la biblioteca estándar.</li>
<li>No se permite utilizar <strong>crates</strong> externos. El único crate autorizado a ser utilizado es <a href="https://crates.io/crates/rand">rand</a> en caso de que se quiera generar valores aleatorios.</li>
<li>El código fuente debe compilarse en la versión stable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar <strong>warnings</strong> del compilador, ni del linter <strong>clippy</strong>.</li>
<li>Las funciones y los tipos de datos (<strong>struct</strong>) deben estar documentadas siguiendo el estándar de <strong>cargo doc</strong>.</li>
<li>El código debe formatearse utilizando <strong>cargo fmt</strong>.</li>
<li>Las funciones no deben tener una extensión mayor a 30 líneas. Si se requiriera una extensión mayor, se deberá particionarla en varias funciones.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="guía-de-ejercicios-2-ownership-en-rust"><a class="header" href="#guía-de-ejercicios-2-ownership-en-rust">Guía de Ejercicios 2: Ownership en Rust</a></h1>
<p><a href="guias/./guia2_ownership.pdf"><strong>Descargar en formato PDF</strong></a></p>
<h2 id="ejercicio-1"><a class="header" href="#ejercicio-1">Ejercicio 1</a></h2>
<p>Analizar las siguientes porciones de código y responder si el mismo compila o no.
Explicar por qué sí o por qué no.</p>
<p>Si no se compila, ¿qué podrías cambiar para que compile?</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
	let mut s = String::from(&quot;hola&quot;);
	let ref1 = &amp;s;
	let ref2 = &amp;ref1;
	let ref3 = &amp;ref2;
	s = String::from(&quot;chau&quot;);
	println!(&quot;{}&quot;, ref3.to_uppercase());
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn drip_drop() -&gt; &amp;String {
    let s = String::from(&quot;hello world!&quot;);
    return &amp;s;
}
<span class="boring">}
</span></code></pre></pre>
<pre><pre class="playground"><code class="language-rust">fn main() {
	let s1 = String::from(&quot;hola&quot;);
	let mut v = Vec::new();
	v.push(s1);
	let s2: String = v[0];
	println!(&quot;{}&quot;, s2);
}
</code></pre></pre>
<h2 id="ejercicio-2---diff"><a class="header" href="#ejercicio-2---diff">Ejercicio 2 - diff</a></h2>
<p>Encontrar la diferencia entre dos archivos es un problema que es bastante conocido y estudiado.</p>
<p>La mayoría de las implementaciones usan el algoritmo de Myers, en este ejercicio, haremos que calcule la subsecuencia común más larga entre los dos archivos con el algoritmo LCS y use esa información para calcular su diferencia.</p>
<p>Este ejercicio se divide en hitos a cumplir.</p>
<h3 id="leer-los-dos-archivos-en-dos-vectores-de-líneas"><a class="header" href="#leer-los-dos-archivos-en-dos-vectores-de-líneas">Leer los dos archivos en dos vectores de líneas</a></h3>
<p>En este hito, se debe implementar la función <strong>read_file_lines</strong>
la cual debe tomar como parámetro la ruta al archivo y devolver un vector
conteniendo las líneas del archivo.</p>
<h3 id="implementar-el-algoritmo-lcs---longest-common-subsequence"><a class="header" href="#implementar-el-algoritmo-lcs---longest-common-subsequence">Implementar el algoritmo LCS - Longest Common Subsequence</a></h3>
<p><strong>Longest Common Subsequence</strong> es un algoritmo conocido:
dadas dos secuencias, ¿cuál es la subsecuencia más larga que aparece en ambas?</p>
<p>Si las secuencias de caracteres son <strong>a b c d</strong> y <strong>a d b c</strong>, la subsecuencia
común más larga es <strong>a b c</strong>, porque estos caracteres aparecen en ambas secuencias en
ese orden (notar que la subsecuencia no necesita ser consecutiva, sino que debe estar
en orden).</p>
<p>Cuando se hace el diff entre dos archivos, queremos determinar cuáles línas deben ser
agregadas o eliminadas entre ellos.
Para lograr esto, necesitamos identificar las línas que son comunes entre ambos archivos.
Esto se enmarca en lo que se conoce como un problema LCS -hay un buen <a href="https://www.youtube.com/watch?v=NnD96abizww">video explicativo</a>-: tenemos las dos secuencias de líneas
y queremos encontrar la mayor subsecuencia de línas que aparecen en ambos archivos;
estas líneas son la que no fueron modificadas y las otras líneas son las que fueron agregadas
o eliminadas.</p>
<p>La solución incluye completar una grilla con los largos de subsecuencias.
El siguiente es un fragmento de pseudocódigo que se puede usar como base para reimplementar
en Rust:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let X and Y be sequences
let m be the length of X, and let n be the length of Y

C = grid(m+1, n+1)
// recordar que .., es inclusivo para el límite inferior, pero excluye al superior
for i := 0..m+1
    C[i,0] = 0
for j := 0..n+1
    C[0,j] = 0
for i := 0..m
    for j := 0..n
        if X[i] = Y[j]
            C[i+1,j+1] := C[i,j] + 1
        else
            C[i+1,j+1] := max(C[i+1,j], C[i,j+1])

return C
<span class="boring">}
</span></code></pre></pre>
<h3 id="usar-el-lcs-para-construir-el-diff"><a class="header" href="#usar-el-lcs-para-construir-el-diff">Usar el LCS para construir el diff</a></h3>
<p>Implementar e invocar al siguiente pseudocódigo para imprimir el diff:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// C es la grilla computada por lcs()
// X e Y son las secuencias
// i y j especifican la ubicacion dentro de C que se quiere buscar cuando
//    se lee el diff. Al llamar a estar funcion inicialmente, pasarle
//    i=len(X) y j=len(Y)
function print_diff(C, X, Y, i, j)
	if i &gt; 0 and j &gt; 0 and X[i-1] = Y[j-1]
		print_diff(C, X, Y, i-1, j-1)
		print &quot;  &quot; + X[i-1]
	else if j &gt; 0 and (i = 0 or C[i,j-1] &gt;= C[i-1,j])
		print_diff(C, X, Y, i, j-1)
		print &quot;&gt; &quot; + Y[j-1]
	else if i &gt; 0 and (j = 0 or C[i,j-1] &lt; C[i-1,j])
		print_diff(C, X, Y, i-1, j)
		print &quot;&lt; &quot; + X[i-1]
	else
		print &quot;&quot;
<span class="boring">}
</span></code></pre></pre>
<h2 id="requerimientos-no-funcionales-2"><a class="header" href="#requerimientos-no-funcionales-2">Requerimientos no funcionales</a></h2>
<p>Los siguientes son los requerimientos no funcionales para la resolución de los ejercicios:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust, usando las herramientas de la biblioteca estándar.</li>
<li>No se permite utilizar <strong>crates</strong> externos. El único crate autorizado a ser utilizado es <a href="https://crates.io/crates/rand">rand</a> en caso de que se quiera generar valores aleatorios.</li>
<li>El código fuente debe compilarse en la versión stable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar <strong>warnings</strong> del compilador, ni del linter <strong>clippy</strong>.</li>
<li>Las funciones y los tipos de datos (<strong>struct</strong>) deben estar documentadas siguiendo el estándar de <strong>cargo doc</strong>.</li>
<li>El código debe formatearse utilizando <strong>cargo fmt</strong>.</li>
<li>Las funciones no deben tener una extensión mayor a 30 líneas. Si se requiriera una extensión mayor, se deberá particionarla en varias funciones.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="guía-de-ejercicios-3-concurrencia-en-rust"><a class="header" href="#guía-de-ejercicios-3-concurrencia-en-rust">Guía de Ejercicios 3: Concurrencia en Rust</a></h1>
<p><a href="guias/./guia3_concurrencia.pdf"><strong>Descargar en formato PDF</strong></a></p>
<h2 id="ejercicio-1---cuentas-bancarias"><a class="header" href="#ejercicio-1---cuentas-bancarias">Ejercicio 1 - Cuentas bancarias</a></h2>
<p>El fragmento de código 1 hace uso de <strong>unsafe</strong> para poder mutar una variable global.
Esto introduce condiciones de carrera sobre los datos (<strong>data races</strong>) que provocan que el programa
falle de manera imprevista al correrlo repetidas veces.
Es decir, el problema se presenta en alguno de los posibles escenarios de ejecución.</p>
<p>Corregir el programa haciendo uso de las abstracciones que provee Rust para el manejo
de la concurrencia de manera que no se produzcan errores.</p>
<pre><pre class="playground"><code class="language-rust">use std::thread;

struct Account(i32);

impl Account {
	fn deposit(&amp;mut self, amount: i32) {
		println!(&quot;op: deposit {}, available funds: {:?}&quot;, amount, self.0);
		self.0 += amount;
	}

	fn withdraw(&amp;mut self, amount: i32) {
		println!(&quot;op: withdraw {}, available funds: {}&quot;, amount, self.0);
		if self.0 &gt;= amount {
			self.0 -= amount;
		} else {
			panic!(&quot;Error: Insufficient funds.&quot;)
		}
	}

	fn balance(&amp;self) -&gt; i32 {
		self.0
	}
}

static mut ACCOUNT: Account = Account(0);

fn main() {
	let customer1_handle = thread::spawn(move || unsafe {
		ACCOUNT.deposit(40);
	});

	let customer2_handle = thread::spawn(move || unsafe {
		ACCOUNT.withdraw(30);
	});

	let customer3_handle = thread::spawn(move || unsafe {
		ACCOUNT.deposit(60);
	});

	let customer4_handle = thread::spawn(move || unsafe {
		ACCOUNT.withdraw(70);
	});

	let handles = vec![
	customer1_handle,
	customer2_handle,
	customer3_handle,
	customer4_handle,
	];

	for handle in handles {
		handle.join().unwrap();
	}

	let savings = unsafe { ACCOUNT.balance() };

	println!(&quot;Balance: {:?}&quot;, savings);
}
</code></pre></pre>
<h2 id="ejercicio-2---threadpool"><a class="header" href="#ejercicio-2---threadpool">Ejercicio 2 - ThreadPool</a></h2>
<p>Un <strong>threadpool</strong> mantiene varios hilos de ejecución (<strong>threads</strong>) en espera de que el programa supervisor asigne tareas para su ejecución simultánea. Al mantener un grupo de threads, el modelo aumenta el rendimiento y evita la latencia en la ejecución debido a la frecuente creación y destrucción de threads para tareas de corta duración.</p>
<p>En este ejercicio se debe armar un <strong>threadpool</strong> sencillo haciendo uso de
las herramientas para computación concurrente que nos provee la biblioteca
estándar de Rust.</p>
<p>Para distribuir las tareas a realizar entre los threads del pool se puede
utilizar una cola concurrente.</p>
<p>Consideraciones a tener en cuenta:</p>
<ul>
<li>La estructura de datos utilizada para distribuir el trabajo.</li>
<li>¿Que se hace cuando una tarea enviada al threadpool provoca que un thread muera? Esta situación no debería afectar a otros threads. Ademas tras la muerte de un thread, se debe crear otro de forma de que la cantidad
total de threads en el pool no cambie.</li>
<li>Cuando la threadpool es terminada o sale de scope todos los threads deberian finalizar.</li>
</ul>
<p>El fragmento de código 2 muestra un ejemplo de uso:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
	let pool = ThreadPool::new(4);
	for i in 0..4 {
		pool.spawn(move || {
			std::thread::sleep(std::time::Duration::from_millis(250 * i));
			println!(&quot;This is Task {}&quot;, i);
		});
	}
	std::thread::sleep(std::time::Duration::from_secs(2));
}
</code></pre></pre>
<h2 id="ejercicio-3---contar-palabras-concurrente"><a class="header" href="#ejercicio-3---contar-palabras-concurrente">Ejercicio 3 - Contar palabras concurrente</a></h2>
<p>Escribir un programa, basado en el ejercicio 2 de la guía 1, para contar las frecuencias de palabras únicas leídas desde varios archivos de entrada.</p>
<p>La lectura y procesamiento de los archivos debe ser realizada de forma concurrente. Una vez finalizado el procesamiento de los mismos, imprimirlos con sus frecuencias, ordenados primero por las más frecuentes.</p>
<p>Realizar las siguientes implementaciones y comparar los tiempos de ejecución:</p>
<ul>
<li>Un mapa de resultados parciales por thread (por archivo), unir las sumas parciales al hacer <strong>join()</strong>, utilizando el valor de retorno de los hilos.</li>
<li>Un mapa de resultados parciales por thread, enviar las sumas parciales de los threads utilizando channels.</li>
<li>Un mapa de resultados globales accedidos por thread.</li>
</ul>
<h2 id="requerimientos-no-funcionales-3"><a class="header" href="#requerimientos-no-funcionales-3">Requerimientos no funcionales</a></h2>
<p>Los siguientes son los requerimientos no funcionales para la resolución de los ejercicios:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust, usando las herramientas de la biblioteca estándar.</li>
<li>No se permite utilizar <strong>crates</strong> externos. El único crate autorizado a ser utilizado es <a href="https://crates.io/crates/rand">rand</a> en caso de que se quiera generar valores aleatorios.</li>
<li>El código fuente debe compilarse en la versión stable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar <strong>warnings</strong> del compilador, ni del linter <strong>clippy</strong>.</li>
<li>Las funciones y los tipos de datos (<strong>struct</strong>) deben estar documentadas siguiendo el estándar de <strong>cargo doc</strong>.</li>
<li>El código debe formatearse utilizando <strong>cargo fmt</strong>.</li>
<li>Las funciones no deben tener una extensión mayor a 30 líneas. Si se requiriera una extensión mayor, se deberá particionarla en varias funciones.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="guía-de-ejercicios-4-sockets-en-rust"><a class="header" href="#guía-de-ejercicios-4-sockets-en-rust">Guía de Ejercicios 4: Sockets en Rust</a></h1>
<p><a href="guias/./guia4_sockets.pdf"><strong>Descargar en formato PDF</strong></a></p>
<h2 id="ejercicio-1---introducción"><a class="header" href="#ejercicio-1---introducción">Ejercicio 1 - Introducción</a></h2>
<h3 id="Ítem-a"><a class="header" href="#Ítem-a">Ítem A</a></h3>
<p>Escribir un programa tal que el hilo main crea un thread hijo que actuará como cliente, mientras el padre actúa como servidor. La comunicación se establece para enviar y recibir un saludo, por ejemplo: <strong>Hola hijo</strong> y <strong>Buen día Papá</strong>.</p>
<h3 id="Ítem-b"><a class="header" href="#Ítem-b">Ítem B</a></h3>
<p>Modificar el programa del ejercicio anterior para que el servidor pueda gestionar más de un cliente.</p>
<h2 id="ejercicio-2---mini-chat"><a class="header" href="#ejercicio-2---mini-chat">Ejercicio 2 - Mini Chat</a></h2>
<p>Implementar un programa para armar una sala de chat.</p>
<p>El programa inicia y le pide un <strong>nickname</strong> al usuario. Luego, abre un socket servidor ligado a un puerto configurable. A continuación, realiza <strong>broadcasting</strong> del nickname a la subred, para después quedar escuchando mensajes.</p>
<p>Si recibe un mensaje de broadcast con un nickname, lo agrega a la lista de usuarios de la sala de chat, junto a la dirección IP de quien se lo envía.</p>
<p>Si recibe otro mensaje, se lo imprime por pantalla.</p>
<p>Para recibir un mensaje del usuario, se debe leer de la estrada estándar (<strong>stdin</strong>). Si se lo antecede con el nickname de destino, se lo envía a ese destinatario en particular. Con <em>Enter</em>, se transmite el mensaje.</p>
<h2 id="ejercicio-3---ftp-honeypot"><a class="header" href="#ejercicio-3---ftp-honeypot">Ejercicio 3 - FTP Honeypot</a></h2>
<h3 id="introducción-1"><a class="header" href="#introducción-1">Introducción</a></h3>
<p>Un <em>honeypot</em> es una aplicación que simula ser un servidor de otra aplicación mayor, para que cuando un usuario malicioso se conecte, ataque este servidor falso, permitiendo tomar registro de las técnicas de ataque que se utilizan en la red.
En este trabajo práctico prototiparemos un honeypot de un servidor FTP.</p>
<h3 id="protocolo-ftp"><a class="header" href="#protocolo-ftp">Protocolo FTP</a></h3>
<p>El protocolo FTP es un <strong>protocolo de texto</strong>, formado por mensajes delimitados por un <strong>salto de línea</strong>.</p>
<p>Los comandos son palabras en su mayoría de 4 letras, seguidos de un espacio que los separa de sus argumentos. El servidor responde con un código numérico y un texto descriptivo.</p>
<h3 id="cliente-ftp"><a class="header" href="#cliente-ftp">Cliente FTP</a></h3>
<p>Los comandos que puede ejecutar el cliente son los siguientes</p>
<ul>
<li><code>USER &lt;username&gt;</code>: Envía un nombre de usuario para realizar login.</li>
<li><code>PASS &lt;password&gt;</code>: Envía un password para el usuario.</li>
<li><code>SYST</code>: Consulta información del sistema</li>
<li><code>LIST</code>: Consulta los archivos contenidos en el directorio actual</li>
<li><code>HELP</code>: Consulta los comandos disponibles</li>
<li><code>PWD</code>: Consulta el directorio actual</li>
<li><code>MKD</code>: Crea un directorio</li>
<li><code>RMD</code>: Elimina un directorio</li>
</ul>
<p>Para simplificar el trabajo práctico, la transferencia de datos se realizará respondiendo en el mismo puerto por el cual se conectan inicialmente los clientes.</p>
<p>Esto implica que los comandos <code>PASV</code> y <code>PORT</code> no serán necesarios para transmitir información (por ejemplo con el comando <code>LIST</code>).</p>
<h3 id="servidor-ftp"><a class="header" href="#servidor-ftp">Servidor FTP</a></h3>
<p>El servidor FTP responde con los siguientes mensajes:</p>
<ul>
<li>Cuando un cliente recién se conecta: <code>220 &lt;newClient&gt;</code></li>
<li>Cuando un cliente quiere operar sin haber hecho login: <code>530 &lt;clientNotLogged&gt;</code></li>
<li>Luego de que un cliente envía un comando <code>USER</code>: <code>331 &lt;passRequired&gt;</code></li>
<li>Si el usuario envía un comando que no es <code>PASS</code> luego de un comando <code>USER</code>: <code>530 &lt;clientNotLogged&gt;</code></li>
<li>Si el usuario realiza un login válido (el usuario enviado con <code>USER</code> y la contraseña enviada con <code>PASS</code> son válidas, es decir, concuerdan con las configuradas): <code>230 &lt;loginSuccess&gt;</code></li>
<li>Si el usuario realiza un login inválido: <code>530 &lt;loginFailed&gt;</code></li>
</ul>
<p>Una vez que el cliente realizó un login exitoso, se habilitan varios comandos al cliente:</p>
<ul>
<li>Si el usuario envía el comando <code>SYST</code>: <code>215 &lt;systemInfo&gt;</code></li>
<li>Si el usuario envía el comando <code>HELP</code>: <code>214 &lt;commands&gt;</code></li>
<li>Si el usuario envía el comando <code>LIST</code>, se realizará una respuesta en 3 partes</li>
</ul>
<p>La primera línea será <code>150 &lt;listBegin&gt;</code></p>
<p>Luego enviará una línea por cada directorio cargado, con el siguiente formato:</p>
<pre><code>drwxrwxrwx 0 1000 1000 4096 Sep 24 12:34 &lt;nombre directorio&gt;
</code></pre>
<p>Los directorios serán listados en orden alfabético.</p>
<p>Luego de enviar las líneas, enviará <code>226 &lt;listEnd&gt;</code>.</p>
<ul>
<li>Si el usuario envía el comando <code>PWD</code>: <code>257 &lt;currentDirectoryMsg&gt;</code></li>
<li>Si el usuario envía el comando <code>MKD &lt;nombreDir&gt;</code>, intenta agregar ```<nombreDir>`'' a la lista de directorios existentes responde:
<ul>
<li><code>257 &quot;&lt;nombreDir&gt; &lt;mkdSuccess&gt;&quot;</code> en caso de que el directorio no existía.</li>
<li><code>550 &lt;mkdFailed&gt;</code> si ya existía</li>
</ul>
</li>
<li>Si el usuario envía el comando <code>RMD &lt;nombreDir&gt;</code> intenta remover <code>&quot;&lt;nombreDir&gt;&quot;</code> de la lista de directorios y responde:
<ul>
<li><code>250 &lt;rmdSuccess&gt;</code> si el directorio existe.</li>
<li><code>550 &lt;rmdFailed&gt;</code> si no existía.</li>
</ul>
</li>
<li>Finalmente, el usuario puede pedirle al servidor que termine la conexión enviando la palabra <code>QUIT</code>. En tal caso el servidor responde con <code>221 &lt;quitSuccess&gt;</code> y ambos cierran sus conexiones ordenadamente.</li>
</ul>
<p>Cabe destacar que la entrada de comandos puede no terminar con <code>QUIT</code>, debiendo el cliente cerrar su conexión al llegar al final del stream y el servidor liberar sus recursos adecuadamente.</p>
<h3 id="configuración-de-mensajes"><a class="header" href="#configuración-de-mensajes">Configuración de mensajes</a></h3>
<p>El servidor FTP lee un archivo de configuración las siguientes variables</p>
<ul>
<li><code>user</code>: Usuario para realizar login</li>
<li><code>password</code>: Password para realizar login</li>
<li><code>newClient</code>: Mensaje enviado a un cliente recién conectado</li>
<li><code>clientNotLogged</code>: Mensaje enviado a un cliente que quiere operar sin haber hecho login</li>
<li><code>passRequired</code>: Mensaje de solicitud de password</li>
<li><code>loginSuccess</code>: Mensaje de password aceptado</li>
<li><code>loginFailed</code>: Mensaje de password rechazado</li>
<li><code>systemInfo</code>: Mensaje de información del sistema</li>
<li><code>commands</code>: Mensaje con los comandos disponibles</li>
<li><code>unknownCommand</code>: Mensaje de comando inválido</li>
<li><code>quit</code>: Mensaje de desconexión del usuario</li>
</ul>
<p>El archivo de configuración posee un formato ```clave=valor`'', y debe ser cargado al iniciar la aplicación. No se validará que se encuentren todas las claves necesarias, en caso de faltar una clave necesaria, es a decisión del desarrollador cómo contemplar este caso.</p>
<h3 id="formato-de-línea-de-comandos"><a class="header" href="#formato-de-línea-de-comandos">Formato de Línea de Comandos</a></h3>
<h4 id="servidor"><a class="header" href="#servidor">Servidor</a></h4>
<pre><code class="language-bash">./server &lt;puerto/servicio&gt; &lt;configuracion&gt;
</code></pre>
<p>Donde <code>&lt;puerto/servicio&gt;</code> es el puerto TCP (o servicio) en donde estará escuchando la conexiones entrantes, <code>&lt;configuracion&gt;</code> el archivo con las variables del servidor.</p>
<h4 id="cliente"><a class="header" href="#cliente">Cliente</a></h4>
<p>El cliente se ejecuta utilizando el siguiente formato de línea de comandos</p>
<pre><code class="language-bash">./client &lt;ip/hostname&gt; &lt;puerto/servicio&gt;
</code></pre>
<p>El cliente se conectará al servidor corriendo en la máquina con dirección IP <code>&lt;ip&gt;</code> (o <code>&lt;hostname&gt;</code>), en el puerto (o servicio) TCP <code>&lt;puerto/servicio&gt;</code>.</p>
<h2 id="requerimientos-no-funcionales-4"><a class="header" href="#requerimientos-no-funcionales-4">Requerimientos no funcionales</a></h2>
<p>Los siguientes son los requerimientos no funcionales para la resolución de los ejercicios:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust, usando las herramientas de la biblioteca estándar.</li>
<li>No se permite utilizar <strong>crates</strong> externos. El único crate autorizado a ser utilizado es <a href="https://crates.io/crates/rand">rand</a> en caso de que se quiera generar valores aleatorios.</li>
<li>El código fuente debe compilarse en la versión stable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar <strong>warnings</strong> del compilador, ni del linter <strong>clippy</strong>.</li>
<li>Las funciones y los tipos de datos (<strong>struct</strong>) deben estar documentadas siguiendo el estándar de <strong>cargo doc</strong>.</li>
<li>El código debe formatearse utilizando <strong>cargo fmt</strong>.</li>
<li>Las funciones no deben tener una extensión mayor a 30 líneas. Si se requiriera una extensión mayor, se deberá particionarla en varias funciones.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proyectos-de-cuatrimestres-anteriores"><a class="header" href="#proyectos-de-cuatrimestres-anteriores">Proyectos de cuatrimestres anteriores</a></h1>
<p><strong>A modo de referencia</strong>, se detallan a continuación los proyectos realizados en cuatrimestres anteriores:</p>
<ul>
<li><a href="proyecto/anteriores/./21C1/proyecto.html">1C 2021: Redis</a>
<ul>
<li><a href="proyecto/anteriores/./21C1/agregado.html">Agregado al Proyecto</a></li>
</ul>
</li>
<li><a href="proyecto/anteriores/./21C2/proyecto.html">2C 2021: MQTT</a>
<ul>
<li><a href="proyecto/anteriores/./21C2/finales_2022_feb_mar.html">Finales Febrero/Marzo 2022</a></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proyecto-redis-oxidado---1er-cuatrimestre-2021"><a class="header" href="#proyecto-redis-oxidado---1er-cuatrimestre-2021">Proyecto: Redis Oxidado - 1er Cuatrimestre 2021</a></h1>
<p><a href="proyecto/anteriores/21C1/./Proyecto_2021_1C_Redis.pdf"><strong>Descargar enunciado en PDF</strong></a></p>
<h2 id="introducción-2"><a class="header" href="#introducción-2">Introducción</a></h2>
<p><a href="https://redis.io/"><strong>Redis</strong></a> es un almacenamiento principalmente en memoria, usado como una Base de Datos de tipo <strong>clave / valor</strong> en memoria, como también como <em>caché</em> y <em>broker</em> de mensajes, con opción a persistencia de los datos.</p>
<p>Redis soporta distintos tipos de estructuras de datos: strings, listas, hashmaps, sets, sets ordenados, bitmaps, entre varios otros.</p>
<p>Redis tiene una muy buena performance, dado que trabaja con los datos en memoria. Es posible persistir los datos periódicamente a un almacenamiento de disco.</p>
<p>Soporta otras funcionalidades como: transacciones, <em>publishers/suscribers</em>, clave con un tiempo de vida limitado, réplicas asincrónicas distribuidas, entre otras. Se puede utilizar clientes Redis desde la mayoría de los lenguajes de programación. Es un proyecto open source. Es una <a href="https://db-engines.com/en/ranking_trend">base de datos muy popular</a> (la de mayor uso del tipo clave / valor).</p>
<p>Los usos principales de Redis son como <a href="https://redislabs.com/solutions/use-cases/caching/">cache de aplicación</a> para mejorar los tiempos de latencia de una aplicación (y aumentar la capacidad de procesamiento de operaciones -<em>requests</em>- por segundo), para almacenar datos de sesión de los usuarios, o funcionalidades como limitar la cantidad de pedidos que puede realizar un cliente en cierto tiempo (<em>rate limiter</em>), para prevenir ataques de denegación de servicio, por ejemplo.</p>
<p>Otros casos de uso de Redis son la implementación del pasaje de mensajes entre publicadores y suscriptores de ciertos tipos de mensajes (que se suscriben a mensajes de algún tópico), o la implementación de colas de tareas para el procesamiento en paralelo de pedidos.</p>
<h2 id="objetivo-del-proyecto"><a class="header" href="#objetivo-del-proyecto">Objetivo del Proyecto</a></h2>
<p>El objetivo del proyecto es implementar un <strong>Servidor Redis</strong> con funcionalidades acotadas, que se detallan en el presente enunciado.</p>
<p>Se presente emular, en la medida de lo posible, el proceso de desarrollo de la Industria de Software.</p>
<h2 id="criterios-de-aceptación-y-corrección-del-proyecto"><a class="header" href="#criterios-de-aceptación-y-corrección-del-proyecto">Criterios de Aceptación y Corrección del Proyecto</a></h2>
<p>Para el desarrollo del proyecto, se deberá observar los siguientes lineamientos generales:</p>
<ol>
<li>
<p><strong>[Testing]</strong> Se deberá implementar testing unitario automatizado, utilizando las herramientas de Rust de los métodos y funciones relevantes implementados.<br/>
Se deberá implementar tests de integración automatizados, utilizando un cliente de Redis para el lenguaje Rust. Se podrá utilizar para ello, un <a href="https://docs.rs/redis/0.20.0/redis/index.html">crate externo que es la implementación de la biblioteca cliente de Redis</a>.</p>
</li>
<li>
<p><strong>[Manejo de Errores]</strong> Deberá hacerse un buen uso y administración de los casos de error, utilizando para ello, las estructuras y herramientas del lenguaje, escribiendo en forma lo más idiomática posible el tratamiento.</p>
</li>
<li>
<p><strong>[Control de versiones]</strong> Se deberá utilizar la herramienta <strong>git</strong>, siguiendo las recomendaciones de la cátedra. En particular, se deberá utilizar la metodología <em>GitHub Flow</em> para el trabajo con ramas (<em>branches</em>) y la entrega continua del software.</p>
</li>
<li>
<p><strong>[Trabajo en equipo]</strong> Se deberá adecuar, organizar y coordinar el trabajo al equipo, realizando tareas como revisión de código cruzada entre pares de una funcionalidad en un <em>pull request</em> de <em>git</em>.</p>
</li>
<li>
<p><strong>[Merge de Branchs]</strong> Para poder hacer el merge de un branch de una funcionalidad, todos los tests <em>pasan</em> de forma satisfactoria.</p>
</li>
</ol>
<h2 id="evaluaciones"><a class="header" href="#evaluaciones">Evaluaciones</a></h2>
<p>El desarrollo del proyecto tendrá un seguimiento directo semanal por parte del docente a cargo del grupo.</p>
<p>Se deberá desarrollar y presentar los avances y progreso del trabajo semana a semana (simulando un <em>sprint</em> de trabajo).
Cada semana, cada docente realizará una valoración del estado del trabajo del grupo.</p>
<p>El progreso de cada semana deberá ser acorde a lo que se convenga con el docente para cada sprint.
Si el mismo NO cumple con la cantidad de trabajo requerido, el grupo podrá estar desaprobado de forma prematura de la materia, a consideración del docente.</p>
<p>Se deja constancia que las funcionalidades requeridas por este enunciado son un marco de cumplimiento mínimo y que pueden haber agregados o modificaciones durante el transcurso del desarrollo por parte del docente a cargo, que formarán parte de los requerimientos a cumplir.
Cabe mencionar que estos desvíos de los requerimientos iniciales se presentan en situaciones reales de trabajo con clientes.</p>
<h2 id="finalización-del-proyecto"><a class="header" href="#finalización-del-proyecto">Finalización del Proyecto</a></h2>
<p>El desarrollo del proyecto finaliza el último día de clases del cuatrimestre. En esa fecha, cada grupo deberá realizar una presentación final y se hará una evaluación global del trabajo.</p>
<h2 id="requerimientos-no-funcionales-5"><a class="header" href="#requerimientos-no-funcionales-5">Requerimientos no funcionales</a></h2>
<p>Los siguientes son los requerimientos no funcionales para la resolución de los ejercicios:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust, usando las herramientas de la biblioteca estándar.</li>
<li>No se permite utilizar <strong>crates</strong> externos. El único crate autorizado a ser utilizado es <a href="https://crates.io/crates/rand">rand</a> en caso de que se quiera generar valores aleatorios.</li>
<li>El código fuente debe compilarse en la versión stable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar <strong>warnings</strong> del compilador, ni del linter <strong>clippy</strong>.</li>
<li>Las funciones y los tipos de datos (<strong>struct</strong>) deben estar documentadas siguiendo el estándar de <strong>cargo doc</strong>.</li>
<li>El código debe formatearse utilizando <strong>cargo fmt</strong>.</li>
<li>Las funciones no deben tener una extensión mayor a 30 líneas. Si se requiriera una extensión mayor, se deberá particionarla en varias funciones.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<h2 id="requerimientos-funcionales"><a class="header" href="#requerimientos-funcionales">Requerimientos Funcionales</a></h2>
<p>Las funcionalidades a implementar importantes requeridas</p>
<ul>
<li>
<p><strong>[1]</strong> <strong>Arquitectura:</strong> el programa a implementar sigue al modelo cliente-servidor, recibiendo solicitudes de servicio (requests) a través de la red (mediante sockets), y debe poder proveer servicio a mas de un cliente simultáneamente mediante el uso de threads.</p>
</li>
<li>
<p><strong>[2]</strong> <strong>Configuración:</strong> el servidor deber poder ser configurado mediante un archivo de configuración, nombrado <code>redis.conf</code> y cuya ubicación se pasa por argumento de línea de comando: <code>$ ./redis-server /path/to/redis.conf</code>.
<br/>Las opciones de configuracion minimas son:</p>
<ul>
<li><code>verbose</code>: un valor entero indicando si debe imprimir mensajes por consola, indicando el funcionamiento interno del servidor.
Los mensajes a imprimir se dejan a criterio de la implementación.</li>
<li><code>port</code>: un valor entero indicando el puerto sobre el cual el servidor escucha para recibir requests.</li>
<li><code>timeout</code>: un valor entero indicando cuántos segundos esperar a que un cliente envíe un comando antes de cerrar la conexión.
Si el valor es <strong>0</strong> se deshabilita el timeout.</li>
<li><code>dbfilename</code>: un string indicando el nombre del archivo en el cual se persistirán los datos almacenados.
El valor por defecto es <code>dump.rdb</code>.</li>
<li><code>logfile</code>: un string indicando el nombre del archivo en el cual se grabara el log.</li>
</ul>
</li>
<li>
<p><strong>[3]</strong> <strong>Logs:</strong> el servidor debe mantener un registro de las acciones realizadas y los eventos ocurridos en un archivo de log.</p>
<p>La ubicación del archivo de log estará especificada en el archivo de configuración.</p>
<p>Como requerimiento particular del Proyecto, NO se considerará válido que el servidor mantenga un <em>file handle</em> global, aunque esté protegido por un lock, y que se escriba directamente al file handle.
La arquitectura deberá contemplar otra solución.</p>
</li>
<li>
<p><strong>[4]</strong> <strong>Protocolo Redis de request y response:</strong> El programa deberá implementar un subconjunto del protocolo Redis tal como es especificado en la documentación. Se sugiere tener funcionalidad para parsear los requests, para validar los requests, para implementar la lógica de cada comando, y que estas partes estén bien modularizadas.</p>
<p>En particular, no deben usarse expresiones regulares para desglosar los parámetros de los requests.</p>
<p>Los strings enviados y recibidos como parte del protocolo pueden ser strings UTF-8, y no necesariamente deben cumplir con el requerimiento de ser <em>binary safe</em>, i.e. no necesariamente son strings binarios arbitrarios, sino strings UTF-8 bien formados.</p>
</li>
<li>
<p><strong>[5]</strong> <strong>Almacenamiento de datos:</strong> Los datos almacenados por el servidor deben estar en una estructura de datos global en memoria.</p>
<p>De manera automática, se debe almacenar periódicamente el contenido de los datos a un archivo cuya ubicación está especificada en el archivo de configuración mediante el parámetro <code>dbfilename</code>.
Al iniciarse el servidor, si este archivo existe, se deben cargar los datos desde el mismo.
En otras palabras, si el servidor se detiene y reinicia, los datos deben volver a estar disponibles.</p>
<p>Se deberá implementar la serialización y deserialización de la estructura de datos en memoria.
Se reitera que para realizar esta tarea NO está permitido el uso de crates externos.</p>
</li>
<li>
<p><strong>[6]</strong> <strong>Tipos de datos soportados:</strong> Los tipos de datos soportados por el servidor debe incluir <strong>strings</strong>, <strong>lists</strong>, y <strong>sets</strong>, pero NO <code>sorted sets</code> o <code>hashes</code>.</p>
</li>
<li>
<p><strong>[7]</strong> <strong>Vencimiento de claves</strong> (<em>key expiration</em>): el servidor debe proveer funcionalidad para setear un tiempo de expiración sobre una clave, de tal manera que transcurrido el tiempo indicado, la clave y su valor se eliminan automáticamente del conjunto de datos almacenados.</p>
</li>
<li>
<p><strong>[8]</strong> <strong>Pub/sub:</strong> el servidor debe proveer funcionalidad para soportar el paradigma de mensajería pub/sub, en el cual clientes que envían mensajes (publicadores) no necesitan conocer la identidad de los clientes que reciben estos mensajes.</p>
<p>En cambio, los mensajes publicados se envían a un canal, y los clientes expresan interés en determinados mensajes subscribiéndose a uno o mas canales, y sólo reciben mensajes de estos canales, sin conocer la identidad de los publicadores.
Para esto, el servidor debe mantener un registro de canales, publicadores y subscriptores. Para mas detalle, consultar la <a href="https://redis.io/topics/pubsub">documentación de Redis</a>.</p>
</li>
</ul>
<h2 id="comandos-que-deben-implementarse-y-soportarse"><a class="header" href="#comandos-que-deben-implementarse-y-soportarse">Comandos que deben implementarse y soportarse</a></h2>
<p>A continuación se lista los comandos que debe implementarse, separado.</p>
<h3 id="comandos-del-grupo-server"><a class="header" href="#comandos-del-grupo-server">Comandos del grupo server</a></h3>
<ul>
<li><strong>[9]</strong> <a href="https://redis.io/commands/info">info</a>
El comando INFO retorna información y estadísticas sobre el servidor en un formato fácil de parsear por computadores y fácil de leer por humanos.</li>
<li><strong>[10]</strong> <a href="https://redis.io/commands/monitor">monitor</a>
MONITOR es un comando de depuración que imprime al cliente cada comando procesado por el servidor. Puede ayudar entender qué está sucediendo en la base de datos.</li>
<li><strong>[11]</strong> <a href="https://redis.io/commands/flushdb">flushdb</a>
Borra todas las claves de la base de datos. Este comando nunca falla.</li>
<li><strong>[12]</strong> <a href="https://redis.io/commands/config-get">config get</a>
El comando CONFIG GET se utiliza para leer los parámetros de configuración de un servidor en ejecución.</li>
<li><strong>[13]</strong> <a href="https://redis.io/commands/config-set">config set</a>
El comando CONFIG SET se utiliza para reconfigurar un servidor en tiempo de ejecución sin necesidad de reiniciarlo.</li>
<li><strong>[14]</strong> <a href="https://redis.io/commands/dbsize">dbsize</a>
Retorna el numero de claves en la base de datos.</li>
</ul>
<h3 id="comandos-del-grupo-keys"><a class="header" href="#comandos-del-grupo-keys">Comandos del grupo keys</a></h3>
<ul>
<li>
<p><strong>[15]</strong> <a href="https://redis.io/commands/copy">copy</a>:
Copia el valor almacenado en una clave <em>origen</em> a una clave <em>destino</em>.</p>
</li>
<li>
<p><strong>[16]</strong> <a href="https://redis.io/commands/del">del</a>:
Elimina una clave específica. La clave es ignorada si no existe.</p>
</li>
<li>
<p><strong>[17]</strong> <a href="https://redis.io/commands/exists">exists</a>: Retorna si la clave existe.</p>
</li>
<li>
<p><strong>[18]</strong> <a href="https://redis.io/commands/expire">expire</a>: Configura un tiempo de expiración sobre una clave (la clave se dice que es <em>volátil</em>). Luego de ese tiempo de expiración, la clave es automáticamente eliminada.</p>
</li>
<li>
<p><strong>[19]</strong> <a href="https://redis.io/commands/expireat">expireat</a>:
Tiene el mismo efecto que EXPIRE, pero en lugar de indicar el número de segundos que representa el TTL (<em>time to live</em>), toma el tiempo absoluto en el timestamp de Unix (segundos desde el 1ro de enero de 1970).</p>
</li>
<li>
<p><strong>[20]</strong> <a href="https://redis.io/commands/keys">keys</a>: Retorna todas las claves que hacen match con un patrón.</p>
</li>
<li>
<p><strong>[21]</strong> <a href="https://redis.io/commands/persist">persist</a>: Elimina el tiempo de expiración existente en una clave, tornando una clave <em>volátil</em> en <em>persistente</em> (una clave que no expira, dado que no tiene timeout asociado)</p>
</li>
<li>
<p><strong>[22]</strong> <a href="https://redis.io/commands/rename">rename</a>: Renombra una clave a un nuevo nombre de clave.</p>
</li>
<li>
<p><strong>[23]</strong> <a href="https://redis.io/commands/sort">sort</a>:
Retorna los elementos contenidos en la lista o set, ordenados por la clave.</p>
</li>
<li>
<p><strong>[24]</strong> <a href="https://redis.io/commands/touch">touch</a>:
Actualiza el valor de último acceso a la clave.</p>
</li>
<li>
<p><strong>[25]</strong> <a href="https://redis.io/commands/ttl">ttl</a>:
Retorna el tiempo que le queda a una clave para que se cumpla su timeout. Permite a un cliente Redis conocer cuántos segundos le quedan a una clave como parte del dataset.</p>
</li>
<li>
<p><strong>[26]</strong> <a href="https://redis.io/commands/type">type</a>: Retorna un string que representa el tipo de valor almacenado en una clave. Los tipos que puede retornar son: string, list, set (no consideramos los tipos de datos que no se implementan en el proyecto).</p>
</li>
</ul>
<h3 id="comandos-del-grupo-strings"><a class="header" href="#comandos-del-grupo-strings">Comandos del grupo strings</a></h3>
<ul>
<li>
<p><strong>[27]</strong> <a href="https://redis.io/commands/append">append</a>
Si la clave ya existe y es un string, este comando agrega el valor al final del string. Si no existe, es creada con el string vacío y luego le agrega el valor deseado. En este caso es similar al comando SET.</p>
</li>
<li>
<p><strong>[28]</strong> <a href="https://redis.io/commands/decrby">decrby</a>:
Decrementa el número almacenado en una clave por el valor deseado. Si la clave no existe, se setea en 0 antes de realizar la operación.</p>
</li>
<li>
<p><strong>[29]</strong> <a href="https://redis.io/commands/get">get</a>:
Devuelve el valor de una clave, si la clave no existe, se retorna el valor especial <em>nil</em>. Se retorna un error si el valor almacenado en esa clave no es un string, porque GET maneja solamente strings.</p>
</li>
<li>
<p><strong>[30]</strong> <a href="https://redis.io/commands/getdel">getdel</a>: obtiene el valor y elimina la clave. Es similar a GET, pero adicionalmente elimina la clave.</p>
</li>
<li>
<p><strong>[31]</strong> <a href="https://redis.io/commands/getset">getset</a>: Atómicamente setea el valor a la clave deseada, y retorna el valor anterior almacenado en la clave.</p>
</li>
<li>
<p><strong>[32]</strong> <a href="https://redis.io/commands/incrby">incrby</a>:
Incrementa el número almacenado en la clave en un incremento. Si la clave no existe, es seteado a 0 antes de realizar la operación. Devuelve error si la clave contiene un valor de tipo erróneo o un string que no puede ser representado como entero.</p>
</li>
<li>
<p><strong>[33]</strong> <a href="https://redis.io/commands/mget">mget</a>:
Retorna el valor de todas las claves especificadas. Para las claves que no contienen valor o el valor no es un string, se retorna el tipo especial <em>nil</em>.</p>
</li>
<li>
<p><strong>[34]</strong> <a href="https://redis.io/commands/mset">mset</a>:
Setea las claves data a sus respectivos valores, reemplazando los valores existentes con los nuevos valores como SET.
<br/>MSET es atómica, de modo que todas las claves son actualizadas a la vez. No es posible para los clientes ver que algunas claves del conjunto fueron modificadas, mientras otras no.</p>
</li>
<li>
<p><strong>[35]</strong> <a href="https://redis.io/commands/set">set</a>:
Setea que la clave especificada almacene el valor especificado de tipo string. Si la clave contiene un valor previo, la clave es sobreescrita, independientemente del tipo de dato contenido (descartando también el valor previo de TTL).</p>
</li>
<li>
<p><strong>[36]</strong> <a href="https://redis.io/commands/strlen">strlen</a>: Retorna el largo del valor de tipo string almacenado en una clave. Retorna error si la clave no almacena un string.</p>
</li>
</ul>
<h3 id="comandos-del-grupo-lists"><a class="header" href="#comandos-del-grupo-lists">Comandos del grupo lists</a></h3>
<ul>
<li>
<p><strong>[37]</strong> <a href="https://redis.io/commands/lindex">lindex</a>:
Retorna el elemento de la posición <em>index</em> en la lista almacenada en la clave indicada. El índice comienza en 0. Los valores negativos se pueden usar para determinar elementos desde el final de la lista: <strong>-1</strong> es el último elemento, <strong>-2</strong> es el anteúlitmo, y así.
<br/>Retorna error si el valor de esa clave no es una lista.</p>
</li>
<li>
<p><strong>[38]</strong> <a href="https://redis.io/commands/llen">llen</a>: Retorna el largo dela lista almacenada en la clave. Si la clave no existe, se interpreta como lista vacía, retornando 0. Se retorna error si el valor almacenado en la clave no es una lista.</p>
</li>
<li>
<p><strong>[39]</strong> <a href="https://redis.io/commands/lpop">lpop</a>
Elimina y retorna el primer elemento de la lista almacenada en la clave. Se puede indicar un parámetro adicional <em>count</em> para indicar obtener esa cantidad de elementos.</p>
</li>
<li>
<p><strong>[40]</strong> <a href="https://redis.io/commands/lpush">lpush</a>:
Inserta todos los valores especificados en el inicio de la lista de la clave especificada. Si no existe la clave, se crea inicialmente como una lista vacía para luego aplicar las operaciones. Se retorna error si la clave almacena un elemento que no es una lista.</p>
</li>
<li>
<p><strong>[41]</strong> <a href="https://redis.io/commands/lpushx">lpushx</a>:
Inserta los valores especificados al inicio de lalista, solamente si la clave existe y almacena una lista. A diferencia de LPUSH, no se realiza operación si la clave no existe.</p>
</li>
<li>
<p><strong>[42]</strong> <a href="https://redis.io/commands/lrange">lrange</a>:
Retorna los elementos especificados de la lista almacenada en la clave indicada. Los inicios y fin de rango se consideran con el <strong>0</strong> como primer elemento de la lista. Estos valores pueden ser negativos, indicando que corresponde al final de la lista: <strong>-1</strong> es el último elemento.</p>
</li>
<li>
<p><strong>[43]</strong> <a href="https://redis.io/commands/lrem">lrem</a>:
Elimina la primer cantidad <em>count</em> de ocurrencias de elementos de la lista almacenada en la clave, igual al elemento indicado por parámetro. El parámetro cantidad influye de esta manera:</p>
<ul>
<li><em>count &gt; 0</em>: Elimina elementos iguales al indicado comenzando desde el inicio de la lista.</li>
<li><em>count &lt; 0</em>: Elimina elementos iguales al indicado comenzando desde el final de la lista.</li>
<li><em>count = 0</em>: Elimina todos los elementos iguales al indicado.</li>
</ul>
</li>
<li>
<p><strong>[44]</strong> <a href="https://redis.io/commands/lset">lset</a>:
Setea el elemento de la posición <em>index</em> de la lista con el elemento suministrado. Se retorna error si se indica un rango inválido.</p>
</li>
<li>
<p><strong>[45]</strong> <a href="https://redis.io/commands/rpop">rpop</a>: Elimina y obtiene el/los último/s elemento/s de la lista almacenada en la clave indicada. Por defecto, es un solo elemento, se puede indicar una cantidad.</p>
</li>
<li>
<p><strong>[46]</strong> <a href="https://redis.io/commands/rpush">rpush</a>: Inserta todos los valores especificados al final de la lista indicada en la clave. Si la clave no existe, se crear como una lista vacía antes de realizar la operación. Se retorna error si el elemento contenido no es una lista.</p>
</li>
<li>
<p><strong>[47]</strong> <a href="https://redis.io/commands/rpushx">rpushx</a>:
Inserta los valores especificados al final de la lista almacenada en la clave indicada, solamente si la clave contiene una lista. En caso contrario, no se realiza ninguna operación.</p>
</li>
</ul>
<h3 id="comandos-del-grupo-sets"><a class="header" href="#comandos-del-grupo-sets">Comandos del grupo sets</a></h3>
<ul>
<li>
<p><strong>[48]</strong> <a href="https://redis.io/commands/sadd">sadd</a>: Agrega el elemento indicado al set de la clave especificada. Si la clave no existe, crea un set vacío para agregar el valor. Si el valor ya existía en el set, no se realiza agregado. Retorna error si el valor almacenado en la clave no es un set.</p>
</li>
<li>
<p><strong>[49]</strong> <a href="https://redis.io/commands/scard">scard</a>: Retorna la cantidad de elementos del set almacenado en la clave indicada.</p>
</li>
<li>
<p><strong>[50]</strong> <a href="https://redis.io/commands/sismember">sismember</a>: Retorna si el elemento indicado es miembro del set indicado en la clave.</p>
</li>
<li>
<p><strong>[51]</strong> <a href="https://redis.io/commands/smembers">smembers</a>:
Retorna todos los miembros del set almacenado en la clave indicada.</p>
</li>
<li>
<p><strong>[52]</strong> <a href="https://redis.io/commands/srem">srem</a>: Elimina los miembros especificados del set almacenado en la clave indicada. Si la clave no existe, se considera como un set vacío, retornando <strong>0</strong>. Retorna error si el valor almacenado en esa clave no es un set.</p>
</li>
</ul>
<h3 id="comandos-del-grupo-pubsub"><a class="header" href="#comandos-del-grupo-pubsub">Comandos del grupo pubsub</a></h3>
<ul>
<li>
<p><strong>[53]</strong> <a href="https://redis.io/commands/pubsub">pubsub</a>: Es un comando de análisis que permite inspeccionar el estado del sistema Pub/Sub.
<br/>La forma de este comando es:</p>
<pre><code>PUBSUB &lt;subcommand&gt; ... args ...
</code></pre>
<p>Los subcomandos son:</p>
<ul>
<li>
<p><em>CHANNELS</em>: lista los canales activos. Un canal es lo que se conoce un <strong>canal Pub/Sub</strong> con uno o más suscriptores. Este comando admite un parámetro para especificar los patrones que deben cumplir los nombres de los canales, si no se especifica, se muestran todos.<br/>Retorna una lista con los canales activos que cumplen con el patrón.</p>
</li>
<li>
<p><em>NUMSUB</em>: Devuelve el número de suscriptores de los canales especificados. El valor de retorno es la lista de canales y el número de suscriptores a cada uno. El formato es de una lista plana: canal, cantidad, canal, cantidad, ... El orden de la lista es el mismo que en los parámetros del comando.</p>
</li>
<li>
<p><em>NUMPAT</em>: <strong>Este comando queda afuera del alcance del proyecto.</strong></p>
</li>
</ul>
</li>
<li>
<p><strong>[54]</strong> <a href="https://redis.io/commands/publish">publish</a>: Envía (<em>publica</em>) un mensaje en un canal dado.</p>
</li>
<li>
<p><strong>[55]</strong> <a href="https://redis.io/commands/subscribe">subscribe</a>: Suscribe al cliente al canal especificado.</p>
</li>
<li>
<p><strong>[56]</strong> <a href="https://redis.io/commands/unsubcribe">unsubcribe</a>:
Desuscribe al cliente de los canales indicados, si no se indica ninguno, lo desuscribe de todos.</p>
</li>
</ul>
<hr />
<h2 id="corriendo-redis-y-su-cliente-en-docker"><a class="header" href="#corriendo-redis-y-su-cliente-en-docker">Corriendo Redis y su cliente en Docker</a></h2>
<ul>
<li>Instalar docker segun el sistema operativo que estes usando.</li>
<li>Descargar y correr una imagen de docker con redis instalado:
<code>docker run -d -p 6379:6379 --name redis-taller1 redis</code></li>
<li>Verificar que estar corriedo:
<code>docker ps</code></li>
<li>Acceder a los logs de redis:
<code>docker logs redis-taller1</code></li>
<li>Ejecutar otro contenedor con la misma imagen, pero en modo interactivo y una shell:
<code>docker exec -it redis-taller1 sh</code></li>
<li>Dentro de este contender, ejecutar el cliente:
<code>redis-cli</code></li>
<li>Verificar que esta conectado al servidor redis:</li>
</ul>
<pre><code>127.0.0.1:6379&gt; ping
PONG
</code></pre>
<ul>
<li>Ejecutar comandos redis:</li>
</ul>
<pre><code>127.0.0.1:6379&gt; set name mark
OK
127.0.0.1:6379&gt; get name
&quot;mark&quot;
127.0.0.1:6379&gt; incr counter
(integer) 1
127.0.0.1:6379&gt; incr counter
(integer) 2
127.0.0.1:6379&gt; get counter
&quot;2&quot;
</code></pre>
<ul>
<li>Cerrar el cliente redis:</li>
</ul>
<pre><code>127.0.0.1:6379&gt; exit
# exit
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="agregado-al-proyecto-monitor-de-redis"><a class="header" href="#agregado-al-proyecto-monitor-de-redis">Agregado al proyecto: Monitor de Redis</a></h1>
<h2 id="objetivo"><a class="header" href="#objetivo">Objetivo</a></h2>
<p>Se debe implementar un sitio web para realizar operaciones sobre la base de datos Redis implementada en la primera parte del trabajo práctico.</p>
<p>Este servidor será similar a la demostración del sitio de Redis: <a href="https://try.redis.io/">https://try.redis.io/</a></p>
<h2 id="requerimientos-funcionales-1"><a class="header" href="#requerimientos-funcionales-1">Requerimientos Funcionales</a></h2>
<p>Se debe implementar un servidor web que reciba pedidos (<em>requests</em>) de browsers, comunicándose con los mismos a través del protocolo HTTP/1.1. La descripción de este protocolo es la correspondiente a la <a href="https://datatracker.ietf.org/doc/html/rfc2616">RFC 2616</a>.</p>
<p>El servidor debe escuchar pedidos HTTP en el puerto TCP 8080 y se comunicará con el servidor Redis desarrollado a partir del protocolo implementado.</p>
<h3 id="acerca-de-http"><a class="header" href="#acerca-de-http">Acerca de HTTP</a></h3>
<p>El protocolo HTTP es usado globalmente para el intercambio de información en la Web desde 1990. Es orientado a cadenas de caracteres, 
HTTP es un protocolo de tipo cliente-servidor que opera con mensajes pedido/respuesta
(request/reply). El cliente es el denominado agente de usuario (o user agent, en inglés) y puede ser
un browser, un editor, un crawler u otro software para el usuario final. El servidor es un
programa que acepta conexiones entrantes para responder a los pedidos (requests), con el envı́o
de respuestas (replies).</p>
<p>HTTP provee encabezados (headers) para enviar el pedido, con métodos para indicar el
tipo de pedido y define a la ubicación del recurso (por ejemplo, una &quot;página web&quot;) referido a partir de su URI (<em>Uniform Resource
Identifier</em>).</p>
<h3 id="funcionalidades-a-implementar"><a class="header" href="#funcionalidades-a-implementar">Funcionalidades a implementar</a></h3>
<p>Al ingresar al sitio principal del sitio, se deberá mostrar una página web que deberá mostrar un recuadro donde el usuario podrá escribir comandos de Redis y debajo del mismo un botón &quot;Enviar&quot; que deberá invocar un comando HTTP <strong>POST</strong>. El servidor web deberá actuar como cliente Redis y conectarse al servidor implementado en la primera parte del Trabajo Práctico.</p>
<p>La respuesta del servidor Redis la deberá re-enviar el servidor web al browser y mostrar en un recuadro.</p>
<p>Se deberá implementar las comunicaciones HTTP entre el servidor web con mensajes del protocolo, respetando los headers.</p>
<p>Se deberá implementar el cliente del protocolo Redis hacia el servidor. <strong>NO</strong> se permite el uso de crates externos para la implementación del cliente Redis ni para el servidor HTTP.</p>
<h2 id="requerimientos-no-funcionales-6"><a class="header" href="#requerimientos-no-funcionales-6">Requerimientos no funcionales</a></h2>
<ul>
<li>Valen los mismos requerimientos que para la primera parte del Trabajo Práctico.</li>
</ul>
<h2 id="condiciones-de-aprobación"><a class="header" href="#condiciones-de-aprobación">Condiciones de aprobación</a></h2>
<p>(Serán detalladas en clase)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proyecto-mqtt-rústico---2do-cuatrimestre-2021"><a class="header" href="#proyecto-mqtt-rústico---2do-cuatrimestre-2021">Proyecto: MQTT Rústico - 2do Cuatrimestre 2021</a></h1>
<h2 id="introducción-3"><a class="header" href="#introducción-3">Introducción</a></h2>
<p>MQTT es un protocolo de mensajería basado en el patrón de comunicación <em>publisher-suscriber</em> y la arquitectura <em>cliente-servidor</em>. Dentro de sus principales características se puede destacar que es un protocolo liviano, simple y sencillo de implementar. Es un protocolo de capa de aplicación binario construido sobre TCP/IP, lo cual lo convierte en una forma de comunicarse sumamente eficiente con un <em>overhead</em> mínimo en la cantidad de paquetes que se envían a través de la red, a diferencia de otros protocolos de capa de aplicación, como por ejemplo HTTP.</p>
<p>Existen distintos estándares debido a que el protocolo ha ido evolucionando a través del tiempo (1.2, 3.1, 3.1.1, 5, etc). En particular, este proyecto estará centrado en la versión 3.1.1 del protocolo, cuya especificación puede encontrarse en el siguiente link: <a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.pdf">MQTT-v3.1.1</a></p>
<p>Su principal utilidad se da para implementar aplicaciones de IoT (Internet of Things), y se ha convertido en una forma estándar de comunicar dispositivos a través de la red. La principal causa de su éxito es que, gracias a sus características y funcionalidades ofrecidas, es un protocolo extremadamente simple, eficiente, sencillo de comprender e implementar y permite transferir datos a través de internet de forma confiable incluso por medio de canales de comunicación poco confiables.</p>
<p>Los requerimientos con los cuáles fue implementado el protocolo han sido son los siguientes:</p>
<ul>
<li>Que sea sencillo de implementar.</li>
<li>Que se pueda especificar un nivel de calidad de servicio (<em>Quality of Service, QoS</em>) para la entrega de datos.</li>
<li>Que sea liviano y eficiente en la red.</li>
<li>Que sea agnóstico respecto de los datos que quieren comunicar las aplicaciones.</li>
<li>Que permita a los clientes establecer sesiones para poder reconectarse en caso de sufrir una desconexión.</li>
</ul>
<p>MQTT está basado en el patrón de comunicación <em>publisher-subscriber</em>. Esencialmente, es un patrón en el que existen clientes que quieren comunicar mensajes a través de <em>tópicos</em>, los cuáles son entregados a otros clientes que se encuentran suscritos a estos <em>tópicos</em>. Los clientes (publicadores y suscriptores) no se conocen entre sí, sino que envían los mensajes pertinentes con su respectivo tópico únicamente al servidor, cuya principal tarea es entregar los mensajes a los clientes que corresponda. Una buena ilustración que ejemplifica dicho patrón es la siguiente:</p>
<p><img src="https://mqtt.org/assets/img/mqtt-publish-subscribe.png" alt="" /></p>
<p>Como es posible observar, uno de los clientes envía un mensaje al servidor con el tópico temperatura, el cual llega al <em>broker</em> y es entregado a otros clientes que se encuentran suscritos a dicho tópico.</p>
<p>En la actualidad, existen distintas implementaciones de servidores MQTT, entre ellas:</p>
<ul>
<li><a href="https://mosquitto.org/">mosquitto</a>, <em>open-source</em> y una de las más utilizadas.</li>
<li><a href="https://www.hivemq.com/">HiveMQ</a>, que posee una versión abierta y otra paga.</li>
<li><a href="https://vernemq.com/">verneMQ</a>.</li>
</ul>
<p>A su vez, existen una serie de distintas implementaciones de clientes MQTT para distintos lenguajes.</p>
<p>Por último, se recomienda mirar los videos de la siguiente lista de reproducción, la cual explica a nivel general el funcionamientio del protocolo: <a href="https://www.youtube.com/watch?v=jTeJxQFD8Ak&amp;list=PLRkdoPznE1EMXLW6XoYLGd4uUaB6wB0wd">MQTT Essentials</a></p>
<h2 id="objetivo-del-proyecto-1"><a class="header" href="#objetivo-del-proyecto-1">Objetivo del Proyecto</a></h2>
<p>El objetivo del proyecto consiste en investigar el protocolo MQTT y realizar la implementación de una aplicación cliente y una aplicación servidor en el lenguaje de programación Rust. Además, la aplicación cliente deberá poseer una interfaz gráfica que permita interactuar con las distintas funcionalidades.</p>
<p>El objetivo secundario del proyecto consiste en el desarrollo de un proyecto real de software de mediana envergadura aplicando buenas prácticas de desarrollo de software, incluyendo entregas y revisiones usando un sistema de control de versiones.</p>
<p>Se espera que se haga un uso lo más idiomático posible del lenguaje de programación, siguiendo los estándares que éste promueve.</p>
<!--
## Criterios de Aceptación y Corrección del Proyecto
-->
<h2 id="evaluaciones-1"><a class="header" href="#evaluaciones-1">Evaluaciones</a></h2>
<p>El desarrollo del proyecto tendrá un seguimiento directo semanal por parte del docente a cargo del grupo.</p>
<p>Se deberá desarrollar y presentar los avances y progreso del trabajo semana a semana (simulando un <em>sprint</em> de trabajo).
Cada semana, o el o los docentes asignados a cada grupos realizarán una valoración del estado del trabajo del grupo.</p>
<p>El progreso de cada semana deberá ser acorde a lo que se convenga con el docente para cada sprint.
Si el mismo NO cumple con la cantidad de trabajo requerido, el grupo podrá estar desaprobado de forma prematura de la materia, a consideración del docente.</p>
<p><strong>Nota importante:</strong> Se deja constancia que las funcionalidades requeridas por este enunciado son un marco de cumplimiento mínimo y que pueden haber agregados o modificaciones durante el transcurso del desarrollo por parte del docente a cargo, que formarán parte de los requerimientos a cumplir.
Cabe mencionar que estos desvíos de los requerimientos iniciales se presentan en situaciones reales de trabajo con clientes.</p>
<h2 id="finalización-del-proyecto-1"><a class="header" href="#finalización-del-proyecto-1">Finalización del Proyecto</a></h2>
<p>El desarrollo del proyecto finaliza el último día de clases del cuatrimestre. En esa fecha, cada grupo deberá realizar una presentación final y se hará una evaluación global del trabajo.</p>
<h2 id="requerimientos-no-funcionales-7"><a class="header" href="#requerimientos-no-funcionales-7">Requerimientos no funcionales</a></h2>
<p>Los siguientes son los requerimientos no funcionales para la resolución de los ejercicios:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust, usando las herramientas de la biblioteca estándar.</li>
<li>No se permite utilizar <strong>crates</strong> externos. El único crate autorizado a ser utilizado es <a href="https://crates.io/crates/rand">rand</a> en caso de que se quiera generar valores aleatorios.</li>
<li>El código fuente debe compilarse en la versión stable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar <strong>warnings</strong> del compilador, ni del linter <strong>clippy</strong>.</li>
<li>Las funciones y los tipos de datos (<strong>struct</strong>) deben estar documentadas siguiendo el estándar de <strong>cargo doc</strong>.</li>
<li>El código debe formatearse utilizando <strong>cargo fmt</strong>.</li>
<li>Las funciones no deben tener una extensión mayor a 30 líneas. Si se requiriera una extensión mayor, se deberá particionarla en varias funciones.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<h2 id="requerimientos-funcionales-2"><a class="header" href="#requerimientos-funcionales-2">Requerimientos Funcionales</a></h2>
<h3 id="protocolo"><a class="header" href="#protocolo">Protocolo</a></h3>
<h4 id="configuración"><a class="header" href="#configuración">Configuración</a></h4>
<p>El servidor MQTT tiene que poder ser inicializado con ciertos parámetros de configuración. Dichos parámetros deberán encontrarse especificados en un archivo de configuración con algún formato conveniente (no se puede utilizar ningún crate para parsear el archivo). Dentro de los parámetros de configuración, deben encontrarse:</p>
<ul>
<li>Puerto en cual el servidor escuchará por solicitudes (<em>port</em>).</li>
<li>Path de archivo sobre el cuál se realizará un <em>dump</em> (ver más adelante).</li>
<li>Intervalo de tiempo para el cual se realizará el <em>dump</em> (ver más adelante).</li>
<li>Path de archivo de <em>log</em> (ver más adelante).</li>
</ul>
<!-- - @@@ ver qué mas. -->
<p>El path del archivo de configuración debe ser pasado como parámetro al ejecutable compilado del servidor.</p>
<h4 id="logging"><a class="header" href="#logging">Logging</a></h4>
<p>Es necesario que el servidor loguee las distintas solicitudes que van llegando al mismo, así como también las distintas acciones que va realizando. El path del archivo donde se irán almacenando estos registros será especificado en el archivo de configuración.</p>
<p>El cumplimiento de este requerimiento puede ser implementado por dos vías:</p>
<ul>
<li>Implementando un log propio (No se considerará válido que el servidor mantenga un file handle global, aunque esté protegido por un lock, y que se escriba directamente al file handle. La arquitectura deberá contemplar otra solución.)</li>
<li>Investigando y utilizando el crate <em><a href="https://docs.rs/tracing/0.1.28/tracing/">tracing</a></em>.</li>
</ul>
<h4 id="autenticación"><a class="header" href="#autenticación">Autenticación</a></h4>
<p>Una de las ventajas del protocolo MQTT es que ofrece la posibilidad de que los clientes deban autenticarse al conectarse al servidor. Para esto, dentro del mensaje de tipo CONNECT, deben especificar valores para los campos <em>username</em> y <em>password</em>. Para implementar esta funcionalidad, el servidor puede poseer un archivo de texto con los usuarios y sus contraseñas en texto plano.</p>
<h4 id="tipos-de-paquetes"><a class="header" href="#tipos-de-paquetes">Tipos de Paquetes</a></h4>
<p>Se debe investigar e implementar los siguientes tipos de paquetes del protocolo:</p>
<ul>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718028">connect</a>: Luego de establecida una conexión de red por el cliente hacia el servidor, el primer paquete enviado por el cliente es el CONNECT.</li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718033">connack</a>: Paquete enviado por el servidor en respuesta a un paquete CONNECT recibido de un cliente.</li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718037">publish</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718043">puback</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718053">pubrel</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718058">pubcomp</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718063">subscribe</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718068">suback</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718072">unsubscribe</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718077">unsuback</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718081">pingreq</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718086">pingresp</a></li>
<li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718090">disconnect</a></li>
</ul>
<h4 id="quality-of-service--qos"><a class="header" href="#quality-of-service--qos"><em> Quality of service </em> (QoS)</a></h4>
<ul>
<li>QoS 0 y 1 (de esta forma se encolan los mensajes de los clientes que están offline porque se desconectaron ungracefully y cuando se vuelven a conectar con el mismo clientId se le pueden enviar los mensajes).</li>
</ul>
<p>Nota: no se implementará dentro del alcance del presente trabajo los mensajes de QoS 2.</p>
<h4 id="wilcards"><a class="header" href="#wilcards">Wilcards</a></h4>
<ul>
<li>tiene que implementar las wildcards que se pueden utilizar para conformar un topic.</li>
</ul>
<h4 id="sesiones-persistentes"><a class="header" href="#sesiones-persistentes">Sesiones persistentes</a></h4>
<ul>
<li>tienen que implementar la persistent session (no hace falta que implementen el reenvío para los mensajes que no refieron el ACK, pero sí para los mensajes encolados).</li>
</ul>
<h4 id="retained-messages"><a class="header" href="#retained-messages">Retained messages</a></h4>
<ul>
<li>tienen implementar retained messages.</li>
</ul>
<h4 id="last-will--testament"><a class="header" href="#last-will--testament">Last will &amp; testament</a></h4>
<ul>
<li>tienen que implementar last will &amp; testament.</li>
<li>se debe persistir la data necesaria para hacer el delivery de mensajes que no hayan podido ser entregados (respetando QoS nivel 1). Esto implica persistir id + mensajes no entregados.</li>
</ul>
<h3 id="interfaz-gráfica"><a class="header" href="#interfaz-gráfica">Interfaz gráfica</a></h3>
<p>La aplicación cliente deberá contar con una interfaz gráfica que permita interactuar con el servidor. Para realizar dicha aplicación, se debe utilizar el crate <a href="https://gtk-rs.org/">GTK</a>. El grupo deberá investigar cómo utilizar dicho crate.</p>
<h4 id="requerimientos"><a class="header" href="#requerimientos">Requerimientos</a></h4>
<p>La interfaz gráfica deberá contar con tres pestañas:</p>
<ol>
<li><strong>Pestaña de conexión:</strong> Esta pestaña deberá contar con una serie de campos que permitan especificar los parámetros de conexión, y un botón para efectuar la misma. Los parámetros son:</li>
</ol>
<ul>
<li>IP del servidor.</li>
<li>Puerto del servidor al que hay que conectarse.</li>
<li>clientId (el servidor debe poder discriminar entre clientes).</li>
<li>Parámetros que deben ser incluidos en el paquete de tipo CONNECT:
<ul>
<li>Nombre de usuario (<em>username</em>).</li>
<li>Contraseña (<em>password</em>).</li>
<li><em>lastWillMessage</em>.</li>
<li><em>lastWillTopic</em>.</li>
</ul>
</li>
</ul>
<ol start="2">
<li>
<p><strong>Pestaña de publicación:</strong> Esta pestaña permitirá enviar mensajes al servidor. En ella, se deberá poder ingresar un mensaje, un tópico, y tendrá que existir un botón para efectuar el envío.
Una vez que el servidor confirme la recepción del mensaje, se deberá señalizar el éxito de la operación.</p>
</li>
<li>
<p><strong>Pestaña de suscripción:</strong> Esta pestaña permitirá suscribirse a distintos tópicos y escuchar por los mensajes que sean publicados a estos.
Para esto, se debe poder:</p>
</li>
</ol>
<ul>
<li>Incluir un tópico del cual se desea escuchar por mensajes.</li>
<li>Eliminar un tópico del cual no se desea seguir escuchando.</li>
<li>Observar en tiempo real los mensajes que van llegando a los tópicos a los cuales se está suscrito, indicando cuál es tópico en cuestión.</li>
</ul>
<p><strong>Aclaración importante</strong>: El diseño de la interfaz y cómo se acomodan los componentes de la misma estará a cargo de cada grupo y será validada por los tutores asignados. Dicha interfaz debe cumplir con la cualidad de usabilidad, por lo que se recomienda hacer un diseño simple pero riguroso para cumplir con este requerimiento.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="finales-febreromarzo-2022"><a class="header" href="#finales-febreromarzo-2022">Finales Febrero/Marzo 2022</a></h1>
<p>Para la aprobación final de la materia se deberá implementar un agregado al enunciado del Trabajo Práctico y exponerlo en alguna de las fechas de final del llamado febrero/marzo 2022.</p>
<p>Las presentaciones serán de forma <strong>remota</strong> a través de Internet. Los grupos deben inscribirse en el SIU Guaraní para la fecha de final.</p>
<p>Las fechas de examen son:</p>
<p><strong>9508 // 7542 Taller de Programación I:</strong></p>
<ul>
<li>miércoles 9/2 a las 18 hs</li>
<li>miércoles 16/2 a las 18 hs</li>
<li>miércoles 23/2 a las 18 hs</li>
<li>miércoles 2/3 a las 18 hs</li>
<li>miércoles 9/3 a las 18 hs</li>
</ul>
<h2 id="enunciado"><a class="header" href="#enunciado">Enunciado</a></h2>
<p>Se debe implementar el siguiente agregado al trabajo desarrollado:</p>
<p><strong>Parte A)</strong> Implementar un programa que simule la generación de datos de un dispositivo (por ejemplo, la medición de la temperatura ambiente) cada determinado tiempo y lo publique como cliente al servidor MQTT utilizando un tópico predefinido. Este programa puede ser de consola, sin necesidad de interfaz gráfica, ni de interacción con el usuario.</p>
<p>Se permite utilizar el crate <a href="https://crates.io/crates/rand">rand</a> para la generación de valores.</p>
<p><strong>Parte B)</strong> Implementar un programa cliente MQTT que se suscriba al tópico anterior para recibir los datos y que actúe como <strong>servidor HTTP</strong> para publicar y exponer esos datos a través de una web accesible desde el browser. Es decir, este programa debe actuar como servidor HTTP.</p>
<p>Investigar para ello, los lineamientos del protocolo de comunicación HTTP y del formato HTML. No es necesario que la página mostrada se actualice automáticamente.</p>
<p><strong>Nota importante:</strong> No se permite el uso de crates externos de frameworks HTTP. Se debe implementar la comunicación y el servidor a partir del uso de sockets TCP, como se ha trabajado en el desarrollo del curso.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proyecto-bittorrent---1er-cuatrimestre-2022"><a class="header" href="#proyecto-bittorrent---1er-cuatrimestre-2022">Proyecto: BitTorrent - 1er Cuatrimestre 2022</a></h1>
<p><a href="proyecto/22C1/./Proyecto_2022_1C_BitTorrent.pdf"><strong>Descargar enunciado en PDF</strong></a></p>
<hr />
<p><strong>¡IMPORTANTE!</strong></p>
<p>Se modificó la lista de crates externos permitidos, agregando opciones para la conexión cifrada con el tracker, para logging y para obtención de timestamp, entre otros. Chequear la sección <a href="proyecto/22C1/proyecto.html#crates-externos-permitidos">Crates externos permitidos</a>.</p>
<hr />
<h2 id="introducción-4"><a class="header" href="#introducción-4">Introducción</a></h2>
<p>BitTorrent es un protocolo de capa de aplicación de arquitectura P2P que se utiliza para transferencia de archivos entre múltiples dispositivos que se denominan peers. Debido a su arquitectura, BitTorrent es un protocolo escalable ya que no tiene un único punto de falla, más bien todos los peers garantizan la transferencia de un archivo de un nodo de la red a otro. Se denomina torrent al conjunto de peers que participan en la distribución de un archivo en particular.</p>
<p>Para transferir un archivo a este se lo separa en chunks de igual tamaño y varios peers pueden transferir varios chunks de manera simultánea. Cuando un peer se suma a un torrent, inicialmente no tiene el archivo, e irá progresivamente recibiendo chunks hasta tenerlo por completo.</p>
<p>La documentación oficial del proyecto BitTorrent se encuentra en: https://www.bittorrent.org/.</p>
<h2 id="objetivo-del-proyecto-2"><a class="header" href="#objetivo-del-proyecto-2">Objetivo del Proyecto</a></h2>
<p>El objetivo del proyecto es implementar un <strong>Cliente BitTorrent</strong> con funcionalidades acotadas, que se detallan en el presente enunciado.</p>
<p>El objetivo secundario del proyecto consiste en el desarrollo de un proyecto real de software de mediana envergadura aplicando buenas prácticas de desarrollo de software, incluyendo entregas y revisiones usando un sistema de control de versiones.</p>
<p>Se espera que se haga un uso lo más idiomático posible del lenguaje de programación, siguiendo los estándares que éste promueve.</p>
<h2 id="criterios-de-aceptación-y-corrección-del-proyecto-1"><a class="header" href="#criterios-de-aceptación-y-corrección-del-proyecto-1">Criterios de Aceptación y Corrección del Proyecto</a></h2>
<p>Para el desarrollo del proyecto, se deberá observar los siguientes lineamientos generales:</p>
<ol>
<li><strong>[Testing]</strong> Se deberá implementar testing unitario automatizado, utilizando las herramientas de Rust de los métodos y funciones relevantes implementados.
Se deberán implementar tests de integración automatizados.</li>
<li><strong>[Manejo de Errores]</strong> Deberá hacerse un buen uso y administración de los casos de error, utilizando para ello, las estructuras y herramientas del lenguaje, escribiendo en forma lo más idiomática posible su tratamiento.</li>
<li><strong>[Control de versiones]</strong> Se deberá utilizar la herramienta git, siguiendo las recomendaciones de la cátedra. En particular, se deberá utilizar la metodología GitHub Flow para el trabajo con ramas (branches) y la entrega continua del software.</li>
<li><strong>[Trabajo en equipo]</strong> Se deberá adecuar, organizar y coordinar el trabajo al equipo, realizando tareas como revisión de código cruzada entre pares de una funcionalidad en un pull request de git.</li>
<li><strong>[Merge de Branchs]</strong> Para poder hacer el merge de un branch de una funcionalidad, todos los tests pasan de forma satisfactoria.</li>
</ol>
<h2 id="evaluaciones-2"><a class="header" href="#evaluaciones-2">Evaluaciones</a></h2>
<p>El desarrollo del proyecto tendrá un seguimiento directo semanal por parte del docente a cargo del grupo.</p>
<p>Se deberá desarrollar y presentar los avances y progreso del trabajo semana a semana (simulando un sprint de trabajo). Cada semana, cada docente realizará una valoración del estado del trabajo del grupo.</p>
<p>El progreso de cada semana deberá ser acorde a lo que se convenga con el docente para cada sprint. Si el mismo NO cumple con la cantidad de trabajo requerido, el grupo podrá estar desaprobado de forma prematura de la materia, a consideración del docente.</p>
<p>Hacia la mitad del desarrollo del proyecto se deberá entregar una versión preliminar que deberá cumplir con un conjunto de requisitos a definir por la cátedra en las próximas semanas. Dichos requisitos serán de cumplimiento mínimo y obligatorio, aquellos grupos que lo deseen podrán implementar requisitos adicionales.</p>
<p><strong>Nota importante:</strong> Se deja constancia que las funcionalidades requeridas por este enunciado son un marco de cumplimiento mínimo y que pueden haber agregados o modificaciones durante el transcurso del desarrollo por parte del docente a cargo, que formarán parte de los requerimientos a cumplir. Cabe mencionar que estos desvíos de los requerimientos iniciales se presentan en situaciones reales de trabajo con clientes.</p>
<h2 id="finalización-del-proyecto-2"><a class="header" href="#finalización-del-proyecto-2">Finalización del Proyecto</a></h2>
<p>El desarrollo del proyecto finaliza el último día de clases del cuatrimestre. En esa fecha, cada grupo deberá realizar una presentación final y se hará una evaluación global del trabajo.</p>
<p>En dicha presentación se deberá detallar la arquitectura del proyecto, aprendizajes del mismo, y realizar una muestra funcional del desarrollo, esto es una &quot;demo&quot; como si fuera para el usuario final.</p>
<p>El trabajo debe acompañarse por un informe que debe constar de los puntos detallados precedentemente, diagramas de secuencia de las operaciones más relevantes, diagrama de componentes y módulos de la arquitectura general del diseño desarrollado, todos acompañados de la explicación respectiva.</p>
<h2 id="requerimientos-no-funcionales-8"><a class="header" href="#requerimientos-no-funcionales-8">Requerimientos no funcionales</a></h2>
<p>Los siguientes son los requerimientos no funcionales para la resolución del proyecto:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust, usando las herramientas de la biblioteca estándar.</li>
<li>Se deben implementar <strong>tests unitarios</strong> y <strong>de integración</strong> de las funcionalidades que se consideren más importantes.</li>
<li>No se permite utilizar <strong>crates</strong> externos más allá de los mencionados en <a href="proyecto/22C1/proyecto.html#crates-externos-permitidos">dicha sección</a>.</li>
<li>El código fuente debe compilarse en la versión stable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar <strong>warnings</strong> del compilador, ni del linter <strong>clippy</strong>.</li>
<li>Las funciones y los tipos de datos (<strong>struct</strong>) deben estar documentadas siguiendo el estándar de <strong>cargo doc</strong>.</li>
<li>El código debe formatearse utilizando <strong>cargo fmt</strong>.</li>
<li>Las funciones no deben tener una extensión mayor a 30 líneas. Si se requiriera una extensión mayor, se deberá particionarla en varias funciones.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<h3 id="crates-externos-permitidos"><a class="header" href="#crates-externos-permitidos">Crates externos permitidos</a></h3>
<p>Se permite el uso de los siguientes crates <strong>sólo para los usos mencionados</strong> (siempre y cuando se los considere necesario):</p>
<ul>
<li><a href="https://crates.io/crates/rand"><code>rand</code></a>: para la generación de valores aleatorios.</li>
<li><a href="https://crates.io/crates/chrono"><code>chrono</code></a>: para la obtención del <em>timestamp</em> actual.</li>
<li><a href="https://crates.io/crates/log"><code>log</code></a> (con alguna implementación a elección entre <a href="https://docs.rs/simple_logger/2.1.0/simple_logger/"><code>simple_logger</code></a>, <a href="https://docs.rs/env_logger/0.9.0/env_logger/"><code>env_logger</code></a> y <a href="https://docs.rs/pretty_env_logger/0.4.0/pretty_env_logger/"><code>pretty_env_logger</code></a>): para logging por consola. No se permite usar ningún crate para loggear en archivos, esto deberá ser implementado aparte.</li>
<li><a href="https://crates.io/crates/crypto"><code>crypto</code></a> o <a href="https://crates.io/crates/sha1"><code>sha1</code></a>: para la función <strong>SHA1</strong>, se pueden utilizar las mismas de los crates mencionados.</li>
<li><a href="https://crates.io/crates/native-tls"><code>native-tls</code></a>: para la conexión cifrada con el tracker.</li>
</ul>
<h2 id="requerimientos-funcionales-3"><a class="header" href="#requerimientos-funcionales-3">Requerimientos funcionales</a></h2>
<p>Los siguientes son los requerimientos funcionales para el desarrollo del Trabajo.</p>
<p>El cliente de BitTorrent deberá permitir descargar más de un archivo por vez en una misma ejecución. Todos los archivos torrent deseados se deberán suministrar como parámetro al momento de la ejecución del programa. Se puede optar por suministrar la ruta a un directorio (en lugar de un archivo) como parámetro, de forma que se deberá leer todos los archivos torrent existentes en el mismo.</p>
<p>Como mínimo, se debe soportar la posibilidad de archivos torrent de tipo <a href="https://wiki.theory.org/BitTorrentSpecification#Info_in_Single_File_Mode">single-file</a> (es decir, conteniendo un único archivo). Se espera y es deseable que sea implementada la funcionalidad que sea capaz de descargar torrent que contengan múltiples archivos.</p>
<h3 id="protocolo-1"><a class="header" href="#protocolo-1">Protocolo</a></h3>
<p>El protocolo a implementar corresponde a la versión 1.0, cuya especificacion oficial se encuentra en: http://bittorrent.org/beps/bep_0003.html</p>
<p>Sin embargo, dado que la misma carece de detalles de implementación, utilizaremos la siguiente especificación no oficial para obtener mayor nivel de detalle: https://wiki.theory.org/BitTorrentSpecification</p>
<p>A continuación se muestra un ejemplo de comunicación entre el <strong>cliente (BT client)</strong>, el <strong>tracker</strong> y uno de los <strong>peers (BT peer)</strong>:</p>
<p><img src="proyecto/22C1/./client-tracker-peer.png" alt="ejemplo-cliente-tracker-peer" /></p>
<h3 id="funcionalidades-del-cliente"><a class="header" href="#funcionalidades-del-cliente">Funcionalidades del cliente</a></h3>
<h4 id="configuración-1"><a class="header" href="#configuración-1">Configuración</a></h4>
<p>El cliente BitTorrent debe poder ser configurado mediante un archivo de configuración.</p>
<p>Las opciones de configuración mínimas son:</p>
<ul>
<li>puerto TCP en el que se reciben conexiones de otros peers.</li>
<li>ruta al directorio de logs.</li>
<li>ruta al directorio de descargas de archivos.</li>
</ul>
<h4 id="arquitectura"><a class="header" href="#arquitectura">Arquitectura</a></h4>
<p>Se debe implementar la arquitectura de tipo cliente / servidor para el correcto funcionamiento de las descargas de archivos y la transmisión a terceras partes desde el mismo cliente como fuente emisora (<em>seed</em>), en este actúa como servidor.</p>
<h4 id="logs"><a class="header" href="#logs">Logs</a></h4>
<p>El cliente BitTorrent debe mantener un registro de las acciones realizadas y los eventos ocurridos en un archivo de log. Se debe escribir en el log cada vez que se complete una pieza de uno de los archivos descargados.</p>
<p>La ubicación del archivo de log estará especificada en el archivo de configuración.
Como requerimiento particular del Proyecto, NO se considerará válido que el servidor mantenga un <em>file handle global</em>, aunque esté protegido por un lock, y que se escriba directamente al file handle. La arquitectura deberá contemplar otra solución.</p>
<h3 id="almacenamiento-de-la-descarga"><a class="header" href="#almacenamiento-de-la-descarga">Almacenamiento de la descarga</a></h3>
<p>Cada grupo puede optar en su solución por la estrategia de almacenamiento del archivo descargado tal como lo desee. Una estrategia consiste en reservar y escribir de forma inicial en el disco la totalidad del tamaño de los archivos que componen al torrent y luego sobre-escribir cada byte con el correspondiente al archivo a medida que se descarga. La otra opción consiste en coleccionar todas las piezas del archivo que se descarga (o de los múltiples archivos que componen al torrent) en un almacenamiento temporal y realizar un ensamblado al finalizar la descarga.</p>
<h3 id="procesamiento-del-archivo-torrent"><a class="header" href="#procesamiento-del-archivo-torrent">Procesamiento del archivo .torrent</a></h3>
<p>El archivo .torrent contiene la metadata esencial para el funcionamiento de la descarga por BitTorrent. Se representa con un diccionario codificado con el formato <a href="https://wiki.theory.org/BitTorrentSpecification#Bencoding">Bencoding</a> que contiene toda la información referida al torrent.</p>
<p>Para este trabajo nos centraremos principalmente en las claves announce e info, las cuales contienen la URL del Tracker y la información del contenido de la descarga, ya sea un único archivo o múltiples archivos y directorios. Para más detalles consultar la <a href="https://wiki.theory.org/BitTorrentSpecification#Metainfo_File_Structure">especificación</a>.</p>
<h3 id="comunicación-con-el-tracker"><a class="header" href="#comunicación-con-el-tracker">Comunicación con el Tracker</a></h3>
<p>La comunicación con el Tracker se realiza a través del protocolo HTTP, enviando los parámetros por querystring. La respuesta se encuentra codificada con el formato <a href="https://wiki.theory.org/BitTorrentSpecification#Bencoding">Bencoding</a>.</p>
<p>A continuación se detalla la información a enviar en el request y los valores de respuesta:</p>
<h4 id="tracker-request"><a class="header" href="#tracker-request">Tracker Request</a></h4>
<p>Se realiza mediante un request HTTP GET a la url de <strong>announce</strong> especificada en el archivo .torrent, enviando los siguiente parámetros por querystring:</p>
<ul>
<li><code>info_hash</code>: Valor de 20 bytes resultante de aplicar el algoritmo SHA-1 al valor info del archivo .torrent, encodeado con urlencode.</li>
<li><code>peer_id</code>: Cadena de 20 bytes utilizada como identificador único del cliente encodeada con urlencode.</li>
<li><code>port</code>: Número de puerto en el cual el cliente escucha conexiones.</li>
<li><code>ip</code>: Opcional. Dirección IP del cliente.</li>
<li><code>uploaded</code>: Número que indica la cantidad de bytes subidos hasta el momento.</li>
<li><code>downloaded</code>: Número que indica la cantidad de bytes descargados hasta el momento.</li>
<li><code>left</code>: Número de bytes pendientes por descargar.</li>
<li><code>event</code>: Cadena de caracteres que indica el estado en el que se encuentra el cliente. Puede ser: started, completed o stopped.</li>
</ul>
<h4 id="tracker-response"><a class="header" href="#tracker-response">Tracker Response</a></h4>
<p>El tracker responde las peticiones con un diccionario tipo Bencoded con los siguientes datos:</p>
<ul>
<li><code>interval</code>: Tiempo en segundos que el cliente tiene que esperar para mandar peticiones al tracker.</li>
<li><code>complete</code>: Número con que indica la cantidad de seeds.</li>
<li><code>incomplete</code>: Número con que indica la cantidad de leechers.</li>
<li><code>peers</code>: Lista de diccionarios con los siguientes valores: peer id, dirección IP y puerto.
<ul>
<li><code>peer_id</code>: Cadena de 20 bytes utilizada como identificador único del cliente.</li>
<li><code>ip</code>: Cadena de caracteres con la dirección IP o nombre de DNS del peer</li>
<li><code>port</code>: Número entero con el puerto que escucha el peer.</li>
</ul>
</li>
</ul>
<h3 id="mensajes-p2p-que-se-deberán-soportar"><a class="header" href="#mensajes-p2p-que-se-deberán-soportar">Mensajes P2P que se deberán soportar</a></h3>
<p>A continuación se detalla el contenido y significado de cada tipo de mensaje indicando:
<code>&lt;longitud del mensaje&gt;&lt;tipo del mensaje&gt;[&lt;información útil&gt;]</code></p>
<ul>
<li><code>keep alive</code>: <code>&lt;0&gt;</code> Se envía para mantener la conexión viva si ningún otro mensaje ha sido enviado durante 2 minutos.</li>
<li><code>choke</code>: <code>&lt;1&gt;&lt;0&gt;</code> El emisor comunica al receptor que lo ha bloqueado, es decir, que no le servirá ninguna petición pendiente o futura.</li>
<li><code>unchoke</code>: <code>&lt;1&gt;&lt;1&gt;</code> El emisor comunica al receptor que lo ha desbloqueado y que responderá a las peticiones.</li>
<li><code>interested</code>: <code>&lt;1&gt;&lt;2&gt;</code> El emisor comunica al receptor que está interesado en alguna de sus piezas.</li>
<li><code>not interested</code>: <code>&lt;1&gt;&lt;3&gt;</code> El emisor comunica al receptor que no está interesado en ninguna de sus piezas.</li>
<li><code>have</code>: <code>&lt;5&gt;&lt;4&gt;&lt;índice de pieza&gt;</code> El índice de pieza son 4 bytes en decimal. El emisor comunica al receptor que tiene una pieza determinada. Este mensaje lo envía el peer local a todos los peers conocidos cada vez que consigue descargar una pieza nueva.</li>
<li><code>bitfield</code>: <code>&lt;1+X&gt;&lt;5&gt;&lt;bitfield&gt;</code> El emisor envía al receptor una secuencia de bytes de tamaño X que representa un campo de bits indicando qué piezas tiene (bit a 1) y cuales no (bit a 0). Leyendo los bits de izquierda a derecha, el primer byte corresponde a las piezas 0-7, el segundo corresponde a las piezas 8-15. Los bits del final que no se usan se ponen a 0. Este es el primer mensaje que se envía en la conexión P2P. Los peers sin ninguna pieza pueden obviar el envío de este mensaje.</li>
<li><code>request</code>: <code>&lt;13&gt;&lt;6&gt;&lt;índice de pieza&gt;&lt;comienzo&gt;&lt;longitud&gt;</code> Cada uno de los tres campos que aparecen después del tipo del mensaje son 4 bytes en decimal. Estos campos describen un bloque que se encuentra en una pieza determinada, comienza en un byte dentro de ésta y tiene una determinada longitud. Este mensaje sirve para pedir un bloque al peer receptor.</li>
<li><code>piece</code>: <code>&lt;9+X&gt;&lt;7&gt;&lt;índice de pieza&gt;&lt;comienzo&gt;&lt;bloque&gt;</code> Cada uno de los dos primeros campos que aparecen después del tipo del mensaje son 4 bytes en decimal e indican la posición de un bloque dentro de una pieza. El tercer campo contiene el bloque, que es una secuencia de bytes de longitud X. Este mensaje sirve para enviar un bloque previamente solicitado por un peer remoto.</li>
<li><code>cancel</code>: <code>&lt;13&gt;&lt;8&gt;&lt;índice de pieza&gt;&lt;comienzo&gt;&lt;longitud&gt;</code> Cada uno de los tres campos que aparecen después del tipo del mensaje son 4 bytes en decimal y describen un bloque. Este mensaje normalmente se envía durante la fase End Game para cancelar peticiones duplicadas.</li>
</ul>
<h3 id="interfaz-gráfica-1"><a class="header" href="#interfaz-gráfica-1">Interfaz gráfica</a></h3>
<p>La aplicación cliente deberá contar con una interfaz gráfica que permita conocer el estado de las descargas de los torrents en curso.</p>
<p>Para realizar dicha aplicación, se debe utilizar el crate GTK. El grupo deberá investigar cómo utilizar dicho crate.</p>
<h4 id="requerimientos-1"><a class="header" href="#requerimientos-1">Requerimientos</a></h4>
<p>La interfaz gráfica deberá contar con la siguientes pestañas:</p>
<ul>
<li><strong>Pestaña de información general:</strong> Esta pestaña deberá contar con la información general de los torrents en curso, incluyendo: nombre y metadata del torrent (hash de verificación, tamaño total, cantidad de piezas, cantidad de peers, etc), estructura de archivos del torrent (ya sea un single file o una estructura de archivos y directorios) además del estado general de la descarga (porcentaje de completitud, cantidad de piezas descargadas y verificadas) y la cantidad de conexiones activas correspondiente a cada torrent.</li>
<li><strong>Pestaña de estadísticas de descarga:</strong> Esta pestaña deberá contar con todas las estadísticas de las descargas en curso, incluyendo: lista de Peers con ID, IP y puerto de cada una de las conexiones activas, velocidad de bajada y subida de cada conexión, estado del Peer (choked/unchoked, interested/not interested) y estado del cliente en el Peer (choked/unchoked, interested/not interested)</li>
</ul>
<p><strong>Aclaración importante:</strong> El diseño de la interfaz y cómo se acomodan los componentes de la misma estará a cargo de cada grupo y será validada por los tutores asignados.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="agregado-al-proyecto---finales-julioagosto-2022"><a class="header" href="#agregado-al-proyecto---finales-julioagosto-2022">Agregado al Proyecto - Finales Julio/Agosto 2022</a></h1>
<p><a href="proyecto/22C1/./Examen_Final_Tracker_BitTorrent.pdf">Descargar agregado en formato PDF</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="criterios-de-aprobación-del-trabajo-práctico--cursada-de-la-materia"><a class="header" href="#criterios-de-aprobación-del-trabajo-práctico--cursada-de-la-materia">Criterios de aprobación del Trabajo Práctico / Cursada de la materia</a></h1>
<p>Para aprobar la cursada de la materia, se debe aprobar el Trabajo Práctico.</p>
<p>Estos son los criterios de aprobación:</p>
<ul>
<li>El software desarrollado funciona correctamente.</li>
<li>Se puede testear en la red de Bit Torrent oficial.</li>
<li>El proyecto debe estar debidamente documentado siguiendo los estándares de documentación de <strong>cargo doc</strong>.</li>
<li>Se debe hace uso de las herramientas <strong>cargo fmt</strong> para formatear el código fuente y de <strong>cargo clippy</strong> para asegurar que el código es lo más idiomático posible. No debe haber warnings de clippy.</li>
<li>El trabajo del grupo fue desarrollado con un esfuerzo constante y parejo a lo largo del cuatrimestre.</li>
<li>Se cumplieron los objetivos planteados y comprometidos con los tutores en las reuniones de seguimiento.</li>
<li>Se desarrollaron tests unitarios y de integración de las partes importantes del proyecto.</li>
<li>Se hizo un uso correcto de la metodología de trabajo con Github.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="alcance-de-la-entrega-intermedia-del-trabajo-práctico"><a class="header" href="#alcance-de-la-entrega-intermedia-del-trabajo-práctico">Alcance de la entrega intermedia del Trabajo Práctico</a></h1>
<p>Se deberá realizar una entrega intermedia el día <strong>6 de Junio</strong>, la cual deberá cumplir con los los siguiente requerimientos:</p>
<ul>
<li>El programa deberá recibir por linea de comandos la ruta de un archivo <strong>.torrent</strong></li>
<li>El archivo <strong>.torrent</strong> debe ser leído y decodificado según el estándar y su información almacenada en memoria.</li>
<li>Se deberá conectar al <strong>Tracker</strong> obtenido en el <strong>.torrent</strong>, decodificar la respuesta y obtener la lista de <strong>peers</strong>.</li>
<li>Dada la lista de <strong>peers</strong>, deberá poder iniciar una conexión con al menos un <strong>peer</strong> y realizar el <strong>Handshake</strong>.</li>
<li>Realizado el <strong>Handshake</strong> se debe iniciar el intercambio de mensajes para poder descargar una pieza del torrent.</li>
<li>La pieza descargada se debe validar según el protocolo y almacenar en disco indicando el nro de pieza en el nombre de archivo.</li>
<li>Implementación del Logger. (<strong>opcional - bonus point</strong>) </li>
</ul>
<p>La entrega se realizara en forma de Demostración (<strong>Demo</strong>) en la cual los alumnos deberán abarcar los siguientes puntos:</p>
<ul>
<li>Explicación general de la solución, incluyendo diagramas que muestren el diseño desarrollado.</li>
<li>Recorrido por el código fuente escrito, explicando los principales contenidos de cada módulo.</li>
<li>Demo en vivo del programa, en donde se comprobará que el programa cumple con los puntos solicitados.</li>
<li>Verificación en vivo de la integridad de la pieza descargada. (<strong>SHA1</strong>)</li>
</ul>
<p><strong>Nota:</strong> Todos los miembros del grupo deberán participar de la demo y explicar su participación en el proyecto, incluyendo detalles de implementación.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proyecto-irc-internet-rust-chat"><a class="header" href="#proyecto-irc-internet-rust-chat">Proyecto IRC (Internet Rust Chat)</a></h1>
<h2 id="objetivo-1"><a class="header" href="#objetivo-1">Objetivo</a></h2>
<p>El objetivo del presente Trabajo Práctico consiste en el desarrollo de un servidor y un cliente de chat siguiendo los lineamientos del protocolo IRC.</p>
<h2 id="introducción-5"><a class="header" href="#introducción-5">Introducción</a></h2>
<p>Internet Relay Chat (IRC) es un protocolo de mensajería de texto diseñado para conversaciones grupales, mediante el uso de canales, con soporte adicional para conversaciones uno a uno.</p>
<p>El protocolo funciona con un modelo cliente-servidor, donde los clientes se conectan a un servidor, que a su vez puede estar conectado a otros en una red de servidores.</p>
<p>La definición base de como funciona esta dada en documentos RFCs. El mayormente adoptado como base es el <a href="https://www.rfc-editor.org/rfc/rfc1459">RFC1459</a>, aunque la mayoría de las redes no se adecúan completamente a ninguna RFC.</p>
<p>Para el desarrollo del TP, utilizaremos la anterior mencionada RFC como el documento técnico con la descripción del trabajo. Además, dividiremos la entrega en dos etapas a desarrollar durante el cuatrimestre.</p>
<p>Recomendamos adicionalmente leer este pequeño documento que sirve de <a href="https://www.ietf.org/blog/how-read-rfc/">guía para leer las RFC</a> </p>
<h2 id="desarrollo"><a class="header" href="#desarrollo">Desarrollo</a></h2>
<h3 id="elementos-del-sistema"><a class="header" href="#elementos-del-sistema">Elementos del sistema</a></h3>
<h4 id="servidor-1"><a class="header" href="#servidor-1">Servidor</a></h4>
<p>Los servidores actúan como el lugar adonde los usuarios se conectan para hablar entre ellos. A su vez, un servidor puede conectarse con otros servidores, para armar una red IRC única, manteniendo una topología de spanning tree. La configuración de spanning tree, permite a mensajes viajar a traves de la red, sin que los servidores se tengan que preocupar porque los mismos entren en un loop y nunca dejen de ser re enviados.</p>
<h4 id="cliente-1"><a class="header" href="#cliente-1">Cliente</a></h4>
<p>El cliente es la aplicación que permite al usuario conectarse a la red. Cada cliente en la red tiene un nickname de hasta 9 caracteres. Además, cada cliente tiene un hostname, un username, y un servidor asociado al cual esta conectado. El hostname es la IP o una dirección DNS y el username puede ser, por ejemplo, la primera parte de un email.</p>
<h4 id="canales"><a class="header" href="#canales">Canales</a></h4>
<p>Los canales son grupos de clientes. Estos se crean cuando el primer cliente se une a uno, y se eliminan  cuando el último sale. Cada canal tiene un nombre que debe comenzar con un &amp; o un #, puede tener hasta 200 caracteres, y <strong>no</strong> puede contener espacios, el ASCII 7 (control+G) o comas, ya que estas son utilizadas como separadores por el protocolo.</p>
<p>Además los canales pueden ser distribuidos entre varios servidores, en cuyo caso se indican con #, o ser visibles por un solo servidor, en cuyo caso se indican con &amp;. Además pueden tener varios modos adicionales que se indican en la especificación.</p>
<h4 id="operadores"><a class="header" href="#operadores">Operadores</a></h4>
<p>Los operadores son los administradores (<em>admins</em>) de los servidores, pudiendo desconectarlos y conectarlos a la red, y además pueden bloquear (<em>ban</em>) y expulsar (<em>kick</em>) usuarios. El admin puede serlo de toda la red, o de un único servidor.</p>
<h4 id="operadores-de-canales"><a class="header" href="#operadores-de-canales">Operadores de canales</a></h4>
<p>Los operadores de canales son admins de canales. Pueden expulsar clientes, invitarlos, y cambiar el modo del canal y su topic.</p>
<h4 id="mensajes"><a class="header" href="#mensajes">Mensajes</a></h4>
<p>Los mensajes son el mecanismo de comunicación cliente-servidor y servidor-servidor. </p>
<p>Consisten de 3 partes: un prefijo, un comando, y sus parámetros.</p>
<p>Si existe un prefijo, este se indica con un caracter &quot;:&quot; (0x3b). El mismo se utiliza para los mensajes entre servidores para indicar el origen del mismo.</p>
<p>El comando puede ser cualquier comando IRC válido o 3 dígitos en ASCII.</p>
<p>El mensaje debe terminar con un CR-LF (Carriage return - Line Feed), y no puede exceder los 520 caracteres.</p>
<p>La descripción de los mensajes se da en formato <a href="http://www.cs.man.ac.uk/%7Epjj/bnf/bnf.html">BNF</a>. </p>
<pre><code>&lt;message&gt;    ::= [':' &lt;prefix&gt; &lt;SPACE&gt; ] &lt;command&gt; &lt;params&gt; &lt;crlf&gt;
&lt;prefix&gt;     ::= &lt;servername&gt; | &lt;nick&gt; [ '!' &lt;user&gt; ] [ '@' &lt;host&gt; ]
&lt;command&gt;    ::= &lt;letter&gt; { &lt;letter&gt; } \| &lt;number&gt; &lt;number&gt; &lt;number&gt;
&lt;SPACE&gt;      ::= ' ' { ' ' }
&lt;params&gt;     ::= &lt;SPACE&gt; [ ':' &lt;trailing&gt; | &lt;middle&gt; &lt;params&gt; ]

&lt;middle&gt;     ::= &lt;Any *non-empty* sequence of octets not including SPACE or NUL or CR or LF, the first of which may not be ':'&gt;
&lt;trailing&gt;   ::= &lt;Any, possibly *empty*, sequence of octets not including NUL or CR or LF&gt;
&lt;crlf&gt;       ::= CR LF
&lt;target&gt;     ::= &lt;to&gt; [ &quot;,&quot; &lt;target&gt; ]
&lt;to&gt;         ::= &lt;channel&gt; | &lt;user&gt; '@' &lt;servername&gt; | &lt;nick&gt; | &lt;mask&gt;
&lt;channel&gt;    ::= ('#' | '&amp;') &lt;chstring&gt;
&lt;servername&gt; ::= &lt;host&gt;
&lt;host&gt;       ::= see RFC 952 [DNS:4] for details on allowed hostnames
&lt;nick&gt;       ::= &lt;letter&gt; { &lt;letter&gt; | &lt;number&gt; | &lt;special&gt; }
&lt;mask&gt;       ::= ('#' | '$') &lt;chstring&gt;
&lt;chstring&gt;   ::= &lt;any 8bit code except SPACE, BELL, NUL, CR, LF and comma (',')&gt;

&lt;user&gt;       ::= &lt;nonwhite&gt; { &lt;nonwhite&gt; }
&lt;letter&gt;     ::= 'a' ... 'z' | 'A' ... 'Z'
&lt;number&gt;     ::= '0' ... '9'
&lt;special&gt;    ::= '-' | '[' | ']' | '\' | '`' | '^' | '{' | '}'
</code></pre>
<p>Este formato see lee por ejemplo: 
&quot;El comando es una letra y varias letras repetidas o 3 números&quot;
&quot;El parámetro es un espacio y opcionalmente un ':' y un trailing o un middle y params&quot;</p>
<h2 id="hitos-del-desarrollo-del-proyecto"><a class="header" href="#hitos-del-desarrollo-del-proyecto">Hitos del desarrollo del Proyecto</a></h2>
<h3 id="entrega-intermedia"><a class="header" href="#entrega-intermedia">Entrega intermedia</a></h3>
<p>Solicitamos para la primera entrega tener una aplicación servidor (actuando como servidor individual o <em>single server</em>) y una aplicación cliente que permita comunicar a múltiples usuarios conectados tanto en el mismo host (utilizando distinta configuración de puertos) como en distintos hosts.</p>
<p>Ambas aplicaciones deberan soportar los siguientes mensajes:</p>
<h4 id="conexión-y-registración-rfc-1459-sección-41"><a class="header" href="#conexión-y-registración-rfc-1459-sección-41">Conexión y Registración (<a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.1">RFC 1459 sección 4.1</a>)</a></h4>
<ul>
<li>Password message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.1.1">4.1.1</a></li>
<li>Nickname message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.1.2">4.1.2</a></li>
<li>User message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.1.3">4.1.3</a></li>
<li>Operator message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.1.5">4.1.5</a></li>
<li>Quit message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.1.6">4.1.6</a></li>
</ul>
<h4 id="intercambio-de-mensajes-rfc-1459-sección-44"><a class="header" href="#intercambio-de-mensajes-rfc-1459-sección-44">Intercambio de mensajes (<a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.4">RFC 1459 sección 4.4</a>)</a></h4>
<ul>
<li>Private messages <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.4.1">4.4.1</a></li>
<li>Notice messages <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.4.2">4.4.2</a></li>
</ul>
<h4 id="channels-rfc-1459-sección-42"><a class="header" href="#channels-rfc-1459-sección-42">Channels (<a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2">RFC 1459 sección 4.2</a>)</a></h4>
<ul>
<li>Join message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2.1">4.2.1</a></li>
<li>Part message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2.2">4.2.2</a></li>
<li>Names message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2.5">4.2.5</a></li>
<li>List message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2.6">4.2.6</a></li>
<li>Invite message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2.7">4.2.7</a></li>
</ul>
<h4 id="informacion-de-usuarios-rfc-1459-sección-45"><a class="header" href="#informacion-de-usuarios-rfc-1459-sección-45">Informacion de Usuarios (<a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.5">RFC 1459 sección 4.5</a>)</a></h4>
<ul>
<li>Who query <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.5.1">4.5.1</a></li>
<li>Whois query <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.5.2">4.5.2</a></li>
</ul>
<h3 id="entrega-final"><a class="header" href="#entrega-final">Entrega final</a></h3>
<p>Se incorporara el soporte para multiples servidores, que funcionaran basados en la topología de spanning tree.</p>
<p>Ademas de las funcionalidades de la entrega intermedia se agregara soporte a los siguientes mensajes:</p>
<h4 id="conexión-y-registración-rfc-1459-sección-41-1"><a class="header" href="#conexión-y-registración-rfc-1459-sección-41-1">Conexión y Registración (<a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.1">RFC 1459 sección 4.1</a>)</a></h4>
<ul>
<li>Server message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.1.4">4.1.4</a></li>
<li>Server Quit message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.1.7">4.1.7</a></li>
</ul>
<h4 id="channels-rfc-1459-sección-42-1"><a class="header" href="#channels-rfc-1459-sección-42-1">Channels (<a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2">RFC 1459 sección 4.2</a>)</a></h4>
<ul>
<li>Mode message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2.3">4.2.3</a></li>
<li>Topic message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2.4">4.2.4</a></li>
<li>Kick message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-4.2.8">4.2.8</a></li>
</ul>
<h4 id="other-features"><a class="header" href="#other-features">Other Features</a></h4>
<ul>
<li>Away message <a href="https://www.rfc-editor.org/rfc/rfc1459#section-5.1">5.1</a></li>
</ul>
<h2 id="interfaz-gráfica-2"><a class="header" href="#interfaz-gráfica-2">Interfaz gráfica</a></h2>
<p>Se debe implementar una interfaz gráfica utilizando la biblioteca <a href="https://gtk.org/">GTK</a>, mediante el crate <a href="https://gtk-rs.org/">gtk-rs</a>.</p>
<p>La interfaz deberá permitir el uso completo de las funcionalidades solicitadas y su apariencia deberá ser similar a la de cualquier software de mensajería de múltiples canales de los usados popularmente. Esto es, deberá mostrar una lista de canales, una lista de los usuarios del canal, los mensajes enviados en el canal y un espacio para escribir un mensaje en ese canal.</p>
<h2 id="evaluaciones-3"><a class="header" href="#evaluaciones-3">Evaluaciones</a></h2>
<p>El desarrollo del proyecto tendrá un seguimiento directo semanal por parte del docente a cargo del grupo.</p>
<p>Se deberá desarrollar y presentar los avances y progreso del trabajo semana a semana (simulando un <em>sprint</em> de trabajo).
Cada semana, cada docente realizará una valoración del estado del trabajo del grupo.</p>
<p>El progreso de cada semana deberá ser acorde a lo que se convenga con el docente para cada sprint.
Si el mismo NO cumple con la cantidad de trabajo requerido, el grupo podrá estar desaprobado de forma prematura de la materia, a consideración del docente.</p>
<p>Se deja constancia que las funcionalidades requeridas por este enunciado son un marco de cumplimiento mínimo y que pueden haber agregados o modificaciones durante el transcurso del desarrollo por parte del docente a cargo, que formarán parte de los requerimientos a cumplir.
Cabe mencionar que estos desvíos de los requerimientos iniciales se presentan en situaciones reales de trabajo con clientes.</p>
<h2 id="finalización-del-proyecto-3"><a class="header" href="#finalización-del-proyecto-3">Finalización del Proyecto</a></h2>
<p>El desarrollo del proyecto finaliza el último día de clases del cuatrimestre. En esa fecha, cada grupo deberá realizar una presentación final y se hará una evaluación global del trabajo.</p>
<h2 id="requerimientos-no-funcionales-9"><a class="header" href="#requerimientos-no-funcionales-9">Requerimientos no funcionales</a></h2>
<p>Los siguientes son los requerimientos no funcionales para la resolución de los ejercicios:</p>
<ul>
<li>El proyecto deberá ser desarrollado en lenguaje Rust, usando las herramientas de la biblioteca estándar.</li>
<li>No se permite utilizar <strong>crates</strong> externos. El único crate autorizado a ser utilizado es <a href="https://crates.io/crates/rand">rand</a> en caso de que se quiera generar valores aleatorios, además del crate de GTK mencionado anteriormente.</li>
<li>El código fuente debe compilarse en la versión stable del compilador y no se permite utilizar bloques unsafe.</li>
<li>El código deberá funcionar en ambiente Unix / Linux.</li>
<li>El programa deberá ejecutarse en la línea de comandos.</li>
<li>La compilación no debe arrojar <strong>warnings</strong> del compilador, ni del linter <strong>clippy</strong>.</li>
<li>Las funciones y los tipos de datos (<strong>struct</strong>) deben estar documentadas siguiendo el estándar de <strong>cargo doc</strong>.</li>
<li>El código debe formatearse utilizando <strong>cargo fmt</strong>.</li>
<li>Cada tipo de dato implementado debe ser colocado en una unidad de compilación (archivo fuente) independiente.</li>
</ul>
<h2 id="criterios-de-aprobación-del-trabajo-práctico--cursada-de-la-materia-1"><a class="header" href="#criterios-de-aprobación-del-trabajo-práctico--cursada-de-la-materia-1">Criterios de aprobación del Trabajo Práctico / Cursada de la materia</a></h2>
<p>Para aprobar la cursada de la materia, se debe aprobar el Trabajo Práctico.</p>
<p>Estos son los criterios de aprobación:</p>
<ul>
<li>El software desarrollado funciona correctamente.</li>
<li>El proyecto debe estar debidamente documentado siguiendo los estándares de documentación de <strong>cargo doc</strong>.</li>
<li>Se debe hace uso de las herramientas <strong>cargo fmt</strong> para formatear el código fuente y de <strong>cargo clippy</strong> para asegurar que el código es lo más idiomático posible. No debe haber warnings de clippy.</li>
<li>El trabajo del grupo fue desarrollado con un esfuerzo constante y parejo a lo largo del cuatrimestre.</li>
<li>Se cumplieron los objetivos planteados y comprometidos con los tutores en las reuniones de seguimiento.</li>
<li>Se desarrollaron tests unitarios y de integración de las partes importantes del proyecto.</li>
<li>Se hizo un uso correcto de la metodología de trabajo con Github.</li>
</ul>
<!--    
# Extras

Esta es una lista provisoria de cosas que tiene el sistema, pero se podrían ignorar para una implementación naive:

- Identd: Para el username del cliente, el cliente deberia levantar un servicio aparte [identd](https://en.wikipedia.org/wiki/Ident_protocol), que responde a la consulta del cliente. Dependiendo como queramos manejarnos podemos ignorar esto, hacerles usar el que viene con linux, o hacerles codear uno como extra, quizas para el final

-->
<div style="break-before: page; page-break-before: always;"></div><h1 id="examen-final-2do-cuatrimestre-2022"><a class="header" href="#examen-final-2do-cuatrimestre-2022">Examen Final 2do Cuatrimestre 2022</a></h1>
<h2 id="enunciado-para-quienes-cursaron-en-2do-cuatrimestre-2022"><a class="header" href="#enunciado-para-quienes-cursaron-en-2do-cuatrimestre-2022">Enunciado para quienes cursaron en 2do cuatrimestre 2022</a></h2>
<p>Se deberá implementar la extension al protocolo IRC denominada Direct Client-to-Client (<a href="https://www.irchelp.org/protocol/dccspec.html">DCC</a>), para dar soporte a conversaciones seguras entre clientes y envio de archivos P2P.</p>
<p>Esta funcionalidad deberá poder acceder desde un botón u otro elemento en la interfaz gráfica del cliente desarrollado, en la ventana de chat con otro participante. Se deberá solicitar el archivo a enviar y se procederá a su envío.</p>
<p>Se deberá realizar una presentacion explicando la implementacion este agregado.</p>
<h3 id="requisitos-funcionales"><a class="header" href="#requisitos-funcionales">Requisitos funcionales</a></h3>
<p>Se deberá considerar los siguientes requisitos:</p>
<ol>
<li>Mediante el uso de mensajes <a href="https://es.wikipedia.org/wiki/CTCP">CTCP</a> implementar las extensiones DCC CHAT y DCC SEND.</li>
<li>El mensaje <a href="https://es.wikipedia.org/wiki/Cliente-a-Cliente_Directo#Chat_DCC">DCC CHAT</a> es utilizado para iniciar una conversacion segura punto a punto entre dos clientes. La estructura del mismo es: <code>DCC CHAT &lt;protocolo&gt;&lt;ip&gt;&lt;port&gt;</code> donde protocolo tiene el valor <code>chat</code>, <code>ip</code> es la direccion IP del cliente que inicia la conversacion y <code>port</code> es el puerto del cliente donde esperará por la conexion entrante. Para finalizar la comunicación se utiliza el mensaje <code>DCC CLOSE</code></li>
<li>El mensaje <a href="https://es.wikipedia.org/wiki/Cliente-a-Cliente_Directo#DCC_Send">DCC SEND</a> es utilizado para iniciar la transferencia de un archivo entre clientes. La estructura del mensaje es: <code>DCC SEND &lt;filename&gt;&lt;ip&gt;&lt;port&gt;&lt;file size&gt;</code> donde <code>filename</code> y <code>file size</code> son el nombre y tamano del archivo a enviar, IP es la direccion IP del cliente que inicia la transferencia del archivo y <code>port</code> es el puerto del cliente donde esperará por la conexión entrante. En caso de reanudar una transferencia interrumpida el cliente puede enviar la respuesta <code>DCC RESUME &lt;filename&gt;&lt;port&gt;&lt;position&gt;</code> para reanudar la transmision desde el punto indicado en <code>position</code>.</li>
</ol>
<h3 id="funcionalidad-opcional"><a class="header" href="#funcionalidad-opcional">Funcionalidad opcional</a></h3>
<p>Extender el punto 3 para agregar soporte a algunas de las siguientes funcionalidades: encriptación, compresión y control de integridad. Para este punto pueden utilizar los siguientes crates externos:</p>
<ul>
<li><a href="https://crates.io/crates/zip">zip</a> para compresión.</li>
<li><a href="https://crates.io/crates/sha">sha</a> para generar hashes.</li>
<li>un crate para realizar encriptación.</li>
</ul>
<h3 id="presentación"><a class="header" href="#presentación">Presentación</a></h3>
<p>Se deberá realizar una presentacion explicando la implementacion este agregado, incluyendo las decisiones de diseño y una demostración de la funcionalidad.</p>
<p>El grupo deberá presentarse en una de las fechas de examen final, tal como se publica en el calendario respectivo.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="grupo-rust-argentina"><a class="header" href="#grupo-rust-argentina">Grupo Rust Argentina</a></h1>
<p>Invitamos a los alumnos de la materia y a toda la comunidad de la FIUBA a participar del grupo Rust Argentina.</p>
<div style="text-align:center"><img src="rust-lang-ar-logo.png" width=180/></div>
<ul>
<li><a href="https://rust-lang-ar.github.io/">Sitio web</a></li>
<li><a href="https://www.meetup.com/es/Rust-Argentina/">Meetup</a></li>
<li><a href="https://t.me/rust_lang_ar">Grupo de Telegram</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
